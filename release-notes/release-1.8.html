

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/yoda/assets/css/just-the-docs-default.css">

  

  
    <script src="/yoda/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/yoda/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
    <link rel="icon" href="/yoda/favicon.ico" type="image/x-icon">
  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>v1.8 | Yoda</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="v1.8" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" />
<meta property="og:description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" />
<meta property="og:site_name" content="Yoda" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="v1.8" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"On this website you can find release notes and technical documentation on software design and administration tasks of Yoda","headline":"v1.8","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/yoda/yoda.svg"}},"url":"/yoda/release-notes/release-1.8.html"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/yoda/" class="site-title lh-tight">
  <div class="site-logo" role="img" aria-label="Yoda"></div>

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>
  <nav aria-label="Main" id="site-nav" class="site-nav">
    
    
      <ul class="nav-list"><li class="nav-list-item"><a href="/yoda/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><button class="nav-list-expander btn-reset" aria-label="toggle items in Release Notes category" aria-pressed="true">
          <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
        </button><a href="/yoda/release-notes/" class="nav-list-link">Release Notes</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/release-notes/release-1.9.html" class="nav-list-link">v1.9</a></li><li class="nav-list-item  active"><a href="/yoda/release-notes/release-1.8.html" class="nav-list-link active">v1.8</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.7.html" class="nav-list-link">v1.7</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.6.html" class="nav-list-link">v1.6</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.5.html" class="nav-list-link">v1.5</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.4.html" class="nav-list-link">v1.4</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.3.html" class="nav-list-link">v1.3</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.2.html" class="nav-list-link">v1.2</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.1.html" class="nav-list-link">v1.1</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.0.html" class="nav-list-link">v1.0</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-0.9.7.html" class="nav-list-link">v0.9.7</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Software Design category" aria-pressed="false">
          <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
        </button><a href="/yoda/design/" class="nav-list-link">Software Design</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/design/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><button class="nav-list-expander btn-reset" aria-label="toggle items in System Overview category" aria-pressed="false">
                  <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
                </button><a href="/yoda/design/overview/" class="nav-list-link">System Overview</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/yoda/design/overview/research-space.html" class="nav-list-link">Research space</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/vault-space.html" class="nav-list-link">Vault space</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/group-manager.html" class="nav-list-link">Group manager</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/statistics.html" class="nav-list-link">Statistics module</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/deposit-space.html" class="nav-list-link">Deposit space</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/statistics_1.8.html" class="nav-list-link">Statistics module (v1.8 or earlier)</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/theme-packages.html" class="nav-list-link">Theme packaging</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/intake.html" class="nav-list-link">Intake module</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/data-requests.html" class="nav-list-link">Data requests module</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/authentication.html" class="nav-list-link">Authentication</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/data_package_reference.html" class="nav-list-link">Data Package Reference</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/deployment.html" class="nav-list-link">Deployment</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/external-user-service.html" class="nav-list-link">External User Service</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/yoda-moai.html" class="nav-list-link">Yoda MOAI service</a>
                  </li></ul></li><li class="nav-list-item "><button class="nav-list-expander btn-reset" aria-label="toggle items in Metadata category" aria-pressed="false">
                  <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
                </button><a href="/yoda/design/metadata/" class="nav-list-link">Metadata</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/adr-schema-identifiers.html" class="nav-list-link">Architectural decision record schema identifier format</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/metadata-form-json.html" class="nav-list-link">Metadata JSON schema</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/metadata-form.html" class="nav-list-link">Metadata form implementation</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/schema-configuration.html" class="nav-list-link">Metadata schemas</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/metadata-vault.html" class="nav-list-link">Metadata vault</a>
                  </li></ul></li><li class="nav-list-item "><button class="nav-list-expander btn-reset" aria-label="toggle items in Processes category" aria-pressed="false">
                  <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
                </button><a href="/yoda/design/processes/" class="nav-list-link">Processes</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/yoda/design/processes/async-system-execution.html" class="nav-list-link">Asynchronous and Privileged Execution</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/asynchronous-processes.html" class="nav-list-link">Asynchronous processes</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/locking-mechanism.html" class="nav-list-link">Folder Locking mechanism</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/publication-process.html" class="nav-list-link">Publication Process</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/revisions.html" class="nav-list-link">Revision management</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/vault-process.html" class="nav-list-link">To vault process in research module</a>
                  </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Administration Tasks category" aria-pressed="false">
          <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
        </button><a href="/yoda/administration/" class="nav-list-link">Administration Tasks</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/administration/configuring-yoda.html" class="nav-list-link">Configuring Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/deploying-yoda.html" class="nav-list-link">Deploying Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/hotfixing-ruleset.html" class="nav-list-link">Hotfixing ruleset</a></li><li class="nav-list-item "><a href="/yoda/administration/local-ruleset-patch.html" class="nav-list-link">Local ruleset patches</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-licenses.html" class="nav-list-link">Installing Licenses</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-terms.html" class="nav-list-link">Installing Terms & Conditions</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-preservable-file-formats.html" class="nav-list-link">Installing lists of preservable file formats</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-metadata-schemas.html" class="nav-list-link">Installing metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/local-postfix-mta.html" class="nav-list-link">Local Postfix MTA</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-datarequest-module.html" class="nav-list-link">Installing datarequest module</a></li><li class="nav-list-item "><a href="/yoda/administration/upgrading-metadata-schemas.html" class="nav-list-link">Upgrading metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-publication.html" class="nav-list-link">Troubleshooting publication</a></li><li class="nav-list-item "><a href="/yoda/administration/using-python-irodsclient.html" class="nav-list-link">Using the python-irodsclient API</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-email.html" class="nav-list-link">Troubleshooting email</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-openidc.html" class="nav-list-link">Configuring OIDC</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-replication-revisions.html" class="nav-list-link">Troubleshooting replication and revision creation</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-cleanup-temporary-files.html" class="nav-list-link">Configuring cleanup functionality temporary files</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-data-access-passwords.html" class="nav-list-link">Configuring Data Access Passwords</a></li><li class="nav-list-item "><a href="/yoda/administration/restore-collection.html" class="nav-list-link">Restore collection</a></li><li class="nav-list-item "><a href="/yoda/administration/setting-job-flags.html" class="nav-list-link">Setting job flags</a></li><li class="nav-list-item "><a href="/yoda/administration/supported-distributions.html" class="nav-list-link">Supported distributions</a></li><li class="nav-list-item "><a href="/yoda/administration/deprovision-users.html" class="nav-list-link">Deprovision users</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Development category" aria-pressed="false">
          <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
        </button><a href="/yoda/development/" class="nav-list-link">Development</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/development/setting-up-development-environment.html" class="nav-list-link">Setting up development environment</a></li><li class="nav-list-item "><a href="/yoda/development/docker-setup.html" class="nav-list-link">Running Yoda using Docker Compose</a></li><li class="nav-list-item "><a href="/yoda/development/running-api-ui-tests.html" class="nav-list-link">Running API and UI tests</a></li><li class="nav-list-item "><a href="/yoda/development/yodadrive-development-environment.html" class="nav-list-link">Setting up YodaDrive development environment</a></li><li class="nav-list-item "><a href="/yoda/development/mock_tape_archive.html" class="nav-list-link">Mock tape archive</a></li><li class="nav-list-item "><a href="/yoda/development/development-tips.html" class="nav-list-link">Development tips</a></li><li class="nav-list-item "><a href="/yoda/development/wall-of-fame.html" class="nav-list-link">Wall of Fame</a></li></ul></li></ul>

    
  </nav>

  
  
    <footer class="site-footer">&copy; 2017-2023 <a href="https://www.uu.nl/" title="Utrecht University website">Utrecht University</a></footer>

  
</div>

  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Yoda" aria-label="Search Yoda" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/UtrechtUniversity/yoda" class="site-button"
          
        >
          Yoda on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div id="main-content-wrap" class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
  
    <li class="breadcrumb-nav-list-item"><a href="/yoda/release-notes/">Release Notes</a></li>
  <li class="breadcrumb-nav-list-item"><span>v1.8</span></li>
  </ol>
</nav>
      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="release-notes---yoda-v18">
  
  
    <a href="#release-notes---yoda-v18" class="anchor-heading" aria-labelledby="release-notes---yoda-v18"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Release Notes - Yoda v1.8
  
  
</h1>
    

<p>Version: 1.8</p>

<p>Released: July 2022</p>
<h2 id="whats-new">
  
  
    <a href="#whats-new" class="anchor-heading" aria-labelledby="whats-new"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What’s new
  
  
</h2>
    
<h3 id="features">
  
  
    <a href="#features" class="anchor-heading" aria-labelledby="features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Features
  
  
</h3>
    
<ul>
  <li><a href="/yoda/design/overview/theme-packages.html">Full theming support</a></li>
  <li>Support for <a href="/yoda/design/overview/authentication.html">Data Access Passwords</a></li>
  <li>Support for user settings</li>
  <li>Support for notifications</li>
  <li>Support for copy and move actions in the web portal</li>
  <li>Support for multi-select actions for files and folders in research space</li>
  <li>Support for davrods server on separate host</li>
  <li>Support for <a href="/yoda/design/overview/data_package_reference.html">Data Package References</a></li>
  <li>Support for checksum reports</li>
  <li>Support for <a href="/yoda/administration/local-postfix-mta.html">local Postfix MTA</a></li>
  <li>Improvements to default schema (<code class="language-plaintext highlighter-rouge">default-2</code>)</li>
  <li>Transformation from <code class="language-plaintext highlighter-rouge">default-1</code> to <code class="language-plaintext highlighter-rouge">teclab-0</code> / <code class="language-plaintext highlighter-rouge">hptlab-0</code></li>
  <li>Improved search module and new search bar in header</li>
  <li>Improved search functionality in group manager</li>
  <li>Added Mailpit for easier mail testing during <a href="/yoda/development/development-tips.html">development</a></li>
  <li>DataCite connection uses REST API instead of legacy MDS</li>
  <li>Several UX improvements to default theme</li>
  <li>Upgrade iRODS to v4.2.11 (Yoda 1.8.8+ has iRODS 4.2.12)</li>
  <li>Upgrade python-irodsclient to v1.1.3 (Yoda 1.8.8+ has Python-irodsclient 1.1.8)</li>
  <li>Support for PostgreSQL 15, as well as connection pooling for the iCAT database (in Yoda 1.8.7 and higher)</li>
  <li>Removed <code class="language-plaintext highlighter-rouge">legacy_tls</code> flag (legacy TLS support, TLS 1.0 and 1.1)</li>
</ul>
<h3 id="known-issues">
  
  
    <a href="#known-issues" class="anchor-heading" aria-labelledby="known-issues"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Known issues
  
  
</h3>
    
<ul>
  <li>Collections with single apex “’” in the name do not work <a href="https://github.com/irods/irods/issues/5727">irods/irods#5727</a></li>
  <li>Deadlock in msiDataObjRepl &amp; msiDataObjCopy when called from Python <a href="https://github.com/irods/irods_rule_engine_plugin_python/issues/54">irods_rule_engine_plugin_python#54</a></li>
</ul>
<h2 id="upgrading-from-previous-release">
  
  
    <a href="#upgrading-from-previous-release" class="anchor-heading" aria-labelledby="upgrading-from-previous-release"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Upgrading from previous release
  
  
</h2>
    
<p>Upgrade is supported by Ansible (2.9.x).
Requires Yoda external user service to be on version 1.5.x or higher.
Requires Yoda public server to be on version 1.6.x or higher.</p>

<ol>
  <li>
    <p>Backup/copy custom configurations made to Yoda version 1.7.
To view what files were changed from the defaults, run <code class="language-plaintext highlighter-rouge">git diff</code>.</p>
  </li>
  <li>
    <p>After making sure the configurations are stored safely in another folder, reset the Yoda folder using <code class="language-plaintext highlighter-rouge">git stash</code> or when you want to delete all changes made: <code class="language-plaintext highlighter-rouge">git reset --hard</code>.</p>
  </li>
  <li>Checkout branch <code class="language-plaintext highlighter-rouge">release-1.8</code> of the Yoda Git repository.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout release-1.8
</code></pre></div>    </div>
  </li>
  <li>Set the Yoda version to <code class="language-plaintext highlighter-rouge">release-1.8</code> in the configuration.
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">yoda_version</span><span class="pi">:</span> <span class="s">release-1.8</span>
</code></pre></div>    </div>
  </li>
  <li>Change the default schema from <code class="language-plaintext highlighter-rouge">default-1</code> to <code class="language-plaintext highlighter-rouge">default-2</code> in the configuration.
Discipline must be present in all vault packages before migration.
I.e. discipline must be manually added if not present yet.
This requires an intervention by the responsible datamanager beforehand.
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">default_yoda_schema</span><span class="pi">:</span> <span class="s">default-2</span>
</code></pre></div>    </div>
  </li>
  <li>Two OpenID Connect configuration options have been added and one has been replaced. If OIDC is active (<code class="language-plaintext highlighter-rouge">oidc_active</code>), make sure you have <a href="/yoda/administration/configuring-openidc.html">configured</a>, <code class="language-plaintext highlighter-rouge">oidc_jwks_uri</code> and <code class="language-plaintext highlighter-rouge">oidc_jwt_issuer</code>. Option <code class="language-plaintext highlighter-rouge">oidc_domain</code> is replaced with <code class="language-plaintext highlighter-rouge">oidc_domains</code>. Example:
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">oidc_domains</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">domain1.tld'</span><span class="pi">,</span> <span class="s1">'</span><span class="s">domain2.tld'</span><span class="pi">]</span>
</code></pre></div>    </div>
  </li>
  <li>DataCite connection is now using REST API instead of legacy MDS. If DataCite is configured, the option <code class="language-plaintext highlighter-rouge">datacite_server</code> should be replaced with <code class="language-plaintext highlighter-rouge">datacite_rest_api_url</code>. Example:
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">datacite_rest_api_url</span><span class="pi">:</span> <span class="s">api.test.datacite.org</span>
</code></pre></div>    </div>
  </li>
  <li>Install all Ansible collections needed to deploy Yoda:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ansible-galaxy collection <span class="nb">install</span> <span class="nt">-r</span> requirements.yml
</code></pre></div>    </div>
  </li>
  <li>Run the Ansible playbook in check mode.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ansible-playbook <span class="nt">-i</span> &lt;path-to-your-environment&gt; playbook.yml <span class="nt">--check</span>
<span class="c">### EXAMPLE ###</span>
ansible-playbook <span class="nt">-i</span> /environments/development/allinone playbook.yml <span class="nt">--check</span>
</code></pre></div>    </div>
  </li>
  <li>If the playbook has finished successfully in check mode, run the Ansible playbook normally.
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ansible-playbook <span class="nt">-i</span> &lt;path-to-your-environment&gt; playbook.yml
<span class="c">### EXAMPLE ###</span>
ansible-playbook <span class="nt">-i</span> /environments/development/allinone playbook.yml
</code></pre></div>    </div>
  </li>
  <li>Update all metadata JSON in the vault to latest metadata JSON version (<code class="language-plaintext highlighter-rouge">default-1</code> to <code class="language-plaintext highlighter-rouge">default-2</code>).
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>irule <span class="nt">-r</span> irods_rule_engine_plugin-irods_rule_language-instance <span class="nt">-F</span> /etc/irods/yoda-ruleset/tools/check-metadata-for-schema-updates.r
</code></pre></div>    </div>
  </li>
  <li>Update publication endpoints if there are published packages (DataCite, landingpages and OAI-PMH):
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>irule <span class="nt">-r</span> irods_rule_engine_plugin-irods_rule_language-instance <span class="nt">-F</span> /etc/irods/yoda-ruleset/tools/update-publications.r
</code></pre></div>    </div>
  </li>
  <li>If the data request module is enabled, project managers, data managers and data committee members will only continue
to receive emails regarding data requests if they have notifications enabled. The <code class="language-plaintext highlighter-rouge">imeta</code> command can be used to check
whether a user has notifications enabled, and enable them if needed:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>imeta <span class="nb">ls</span> <span class="nt">-u</span> u.user@uu.nl org_settings_mail_notifications
imeta <span class="nb">set</span> <span class="nt">-u</span> u.user@uu.nl org_settings_mail_notifications IMMEDIATE
</code></pre></div></div>

<ol>
  <li>If the data request module is enabled, manually update the data request module schemas after upgrading (replace ZONENAME with the zone name of the environment):</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/irods/yoda-ruleset/tools/install-datarequest-schemas.sh ZONENAME
</code></pre></div></div>

          

          
        </main>
        

  <hr>
  <footer>
    

    <p class="text-small text-grey-dk-100 mb-0">Licensed under <a href="https://github.com/UtrechtUniversity/yoda/blob/development/LICENSE">GPLv3</a>.</p>

    
      <div class="d-flex mt-2">
        
        
          <p class="text-small text-grey-dk-000 mb-0">
            <a href="https://github.com/UtrechtUniversity/yoda/tree/development/docs/release-notes/release-1.8.md" id="edit-this-page">Edit this page on GitHub.</a>
          </p>
        
      </div>
    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

