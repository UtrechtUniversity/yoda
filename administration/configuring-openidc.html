

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/yoda/assets/css/just-the-docs-default.css">
  
  <link rel="stylesheet" href="/yoda/assets/css/just-the-docs-head-nav.css">
  
  <style id="jtd-nav-activation">
  

.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external) > .nav-list-link,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external) > .nav-list > .nav-list-item:not(:nth-child(16)) > .nav-list-link,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external) > .nav-list > .nav-list-item > .nav-list > .nav-list-item > .nav-list-link {
  background-image: none;
}

.site-nav > .nav-list:not(:nth-child(1):not(.nav-category-list)) .nav-list-link,
.site-nav .nav-list-link.external {
  background-image: none;
}

.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(4) > .nav-list > .nav-list-item:nth-child(16) > .nav-list-link {
  font-weight: 600;
  text-decoration: none;
}

.site-nav > .nav-category-list > .nav-list-item > .nav-list-expander svg,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(4) > .nav-list-expander svg,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(4) > .nav-list > .nav-list-item:nth-child(16) > .nav-list-expander svg {
  transform: rotate(-90deg);
}

.site-nav > .nav-category-list > .nav-list-item > .nav-list,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(4) > .nav-list,
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:nth-child(4) > .nav-list > .nav-list-item:nth-child(16) > .nav-list {
  display: block;
}
  </style>

  

  
    <script src="/yoda/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/yoda/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="/yoda/favicon.ico" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Configuring OIDC | Yoda</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Configuring OIDC" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" />
<meta property="og:description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" />
<meta property="og:site_name" content="Yoda" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Configuring OIDC" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"On this website you can find release notes and technical documentation on software design and administration tasks of Yoda","headline":"Configuring OIDC","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/yoda/yoda.svg"}},"url":"/yoda/administration/configuring-openidc.html"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/yoda/" class="site-title lh-tight">
  <div class="site-logo" role="img" aria-label="Yoda"></div>

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><a href="/yoda/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Release Notes category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/yoda/release-notes/" class="nav-list-link">Release Notes</a><ul class="nav-list"><li class="nav-list-item"><a href="/yoda/release-notes/release-1.9.html" class="nav-list-link">v1.9</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.8.html" class="nav-list-link">v1.8</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.7.html" class="nav-list-link">v1.7</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.6.html" class="nav-list-link">v1.6</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.5.html" class="nav-list-link">v1.5</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.4.html" class="nav-list-link">v1.4</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.3.html" class="nav-list-link">v1.3</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.2.html" class="nav-list-link">v1.2</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.1.html" class="nav-list-link">v1.1</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-1.0.html" class="nav-list-link">v1.0</a></li><li class="nav-list-item"><a href="/yoda/release-notes/release-0.9.7.html" class="nav-list-link">v0.9.7</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Software Design category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/yoda/design/" class="nav-list-link">Software Design</a><ul class="nav-list"><li class="nav-list-item"><a href="/yoda/design/api/" class="nav-list-link">API</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in System Overview category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/yoda/design/overview/" class="nav-list-link">System Overview</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/yoda/design/overview/research-space.html" class="nav-list-link">Research space</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/vault-space.html" class="nav-list-link">Vault space</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/group-manager.html" class="nav-list-link">Group manager</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/statistics.html" class="nav-list-link">Statistics module</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/deposit-space.html" class="nav-list-link">Deposit space</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/statistics_1.8.html" class="nav-list-link">Statistics module (v1.8 or earlier)</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/theme-packages.html" class="nav-list-link">Theme packaging</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/intake.html" class="nav-list-link">Intake module</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/vault-archive.html" class="nav-list-link">Vault archive</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/data-requests.html" class="nav-list-link">Data requests module</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/authentication.html" class="nav-list-link">Authentication</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/data_package_reference.html" class="nav-list-link">Data Package Reference</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/deployment.html" class="nav-list-link">Deployment</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/external-user-service.html" class="nav-list-link">External User Service</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/overview/yoda-moai.html" class="nav-list-link">Yoda MOAI service</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Metadata category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/yoda/design/metadata/" class="nav-list-link">Metadata</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/yoda/design/metadata/adr-schema-identifiers.html" class="nav-list-link">Architectural decision record schema identifier format</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/metadata/metadata-form-json.html" class="nav-list-link">Metadata JSON schema</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/metadata/metadata-form.html" class="nav-list-link">Metadata form implementation</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/metadata/schema-configuration.html" class="nav-list-link">Metadata schemas</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/metadata/metadata-vault.html" class="nav-list-link">Metadata vault</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Processes category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/yoda/design/processes/" class="nav-list-link">Processes</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/yoda/design/processes/async-system-execution.html" class="nav-list-link">Asynchronous and Privileged Execution</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/processes/asynchronous-processes.html" class="nav-list-link">Asynchronous processes</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/processes/automatic-resource-balancing.html" class="nav-list-link">Automatic Resource Balancing</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/processes/locking-mechanism.html" class="nav-list-link">Folder Locking mechanism</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/processes/publication-process.html" class="nav-list-link">Publication Process</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/processes/revisions.html" class="nav-list-link">Revision management</a>
              </li><li class="nav-list-item">
                <a href="/yoda/design/processes/vault-process.html" class="nav-list-link">To vault process in research module</a>
              </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Administration Tasks category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/yoda/administration/" class="nav-list-link">Administration Tasks</a><ul class="nav-list"><li class="nav-list-item"><a href="/yoda/administration/configuring-yoda.html" class="nav-list-link">Configuring Yoda</a></li><li class="nav-list-item"><a href="/yoda/administration/deploying-yoda.html" class="nav-list-link">Deploying Yoda</a></li><li class="nav-list-item"><a href="/yoda/administration/hotfixing-ruleset.html" class="nav-list-link">Hotfixing ruleset</a></li><li class="nav-list-item"><a href="/yoda/administration/local-ruleset-patch.html" class="nav-list-link">Local ruleset patches</a></li><li class="nav-list-item"><a href="/yoda/administration/installing-licenses.html" class="nav-list-link">Installing Licenses</a></li><li class="nav-list-item"><a href="/yoda/administration/installing-terms.html" class="nav-list-link">Installing Terms & Conditions</a></li><li class="nav-list-item"><a href="/yoda/administration/installing-preservable-file-formats.html" class="nav-list-link">Installing lists of preservable file formats</a></li><li class="nav-list-item"><a href="/yoda/administration/installing-metadata-schemas.html" class="nav-list-link">Installing metadata schemas</a></li><li class="nav-list-item"><a href="/yoda/administration/local-postfix-mta.html" class="nav-list-link">Local Postfix MTA</a></li><li class="nav-list-item"><a href="/yoda/administration/installing-datarequest-module.html" class="nav-list-link">Installing datarequest module</a></li><li class="nav-list-item"><a href="/yoda/administration/upgrading-metadata-schemas.html" class="nav-list-link">Upgrading metadata schemas</a></li><li class="nav-list-item"><a href="/yoda/administration/troubleshooting-publication.html" class="nav-list-link">Troubleshooting publication</a></li><li class="nav-list-item"><a href="/yoda/administration/using-python-irodsclient.html" class="nav-list-link">Using the python-irodsclient API</a></li><li class="nav-list-item"><a href="/yoda/administration/troubleshooting-email.html" class="nav-list-link">Troubleshooting email</a></li><li class="nav-list-item"><a href="/yoda/administration/upgrading-postgresql.html" class="nav-list-link">Upgrading PostgreSQL</a></li><li class="nav-list-item"><a href="/yoda/administration/configuring-openidc.html" class="nav-list-link">Configuring OIDC</a></li><li class="nav-list-item"><a href="/yoda/administration/troubleshooting-replication-revisions.html" class="nav-list-link">Troubleshooting replication and revision creation</a></li><li class="nav-list-item"><a href="/yoda/administration/configuring-cleanup-temporary-files.html" class="nav-list-link">Configuring cleanup functionality temporary files</a></li><li class="nav-list-item"><a href="/yoda/administration/configuring-data-access-passwords.html" class="nav-list-link">Configuring Data Access Passwords</a></li><li class="nav-list-item"><a href="/yoda/administration/restore-collection.html" class="nav-list-link">Restore collection</a></li><li class="nav-list-item"><a href="/yoda/administration/setting-job-flags.html" class="nav-list-link">Setting job flags</a></li><li class="nav-list-item"><a href="/yoda/administration/supported-distributions.html" class="nav-list-link">Supported distributions</a></li><li class="nav-list-item"><a href="/yoda/administration/deprovision-users.html" class="nav-list-link">Deprovision users</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Development category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/yoda/development/" class="nav-list-link">Development</a><ul class="nav-list"><li class="nav-list-item"><a href="/yoda/development/setting-up-development-environment.html" class="nav-list-link">Setting up development environment</a></li><li class="nav-list-item"><a href="/yoda/development/docker-setup.html" class="nav-list-link">Running Yoda using Docker Compose</a></li><li class="nav-list-item"><a href="/yoda/development/running-api-ui-tests.html" class="nav-list-link">Running API and UI tests</a></li><li class="nav-list-item"><a href="/yoda/development/yodadrive-development-environment.html" class="nav-list-link">Setting up YodaDrive development environment</a></li><li class="nav-list-item"><a href="/yoda/development/mock_tape_archive.html" class="nav-list-link">Mock tape archive</a></li><li class="nav-list-item"><a href="/yoda/development/development-tips.html" class="nav-list-link">Development tips</a></li><li class="nav-list-item"><a href="/yoda/development/wall-of-fame.html" class="nav-list-link">Wall of Fame</a></li></ul></li></ul>

  
</nav>


  
  
    <footer class="site-footer">&copy; 2017-2023 <a href="https://www.uu.nl/" title="Utrecht University website">Utrecht University</a></footer>

  
</div>

  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Yoda" aria-label="Search Yoda" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/UtrechtUniversity/yoda" class="site-button"
          
        >
          Yoda on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
  
    <li class="breadcrumb-nav-list-item"><a href="/yoda/administration/">Administration Tasks</a></li>
  <li class="breadcrumb-nav-list-item"><span>Configuring OIDC</span></li>
  </ol>
</nav>
      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="configuring-openid-connect-oidc">
  
  
    <a href="#configuring-openid-connect-oidc" class="anchor-heading" aria-labelledby="configuring-openid-connect-oidc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring OpenID Connect (OIDC)
  
  
</h1>
    
<p>Instruction on how to configure OpenID Connect authentication.</p>
<h2 id="configuring-the-variables">
  
  
    <a href="#configuring-the-variables" class="anchor-heading" aria-labelledby="configuring-the-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring the variables
  
  
</h2>
    
<p>When creating a new Yoda instance, setup the variables in the group_vars as explained in <a href="/yoda/administration/configuring-yoda.html">Configuring Yoda</a> and run the playbook.
Alternatively, you can choose to pass the variables with the <em>â€“extra-vars</em> option every time when running the Ansible playbook.
The development group_vars contains examples for all of the variables.</p>

<p>For OIDC to function properly it requires the following variables to be set:</p>
<ul>
  <li>oidc_active (default: <code class="language-plaintext highlighter-rouge">false</code>), used by Ansible during setup. Please note that switching <code class="language-plaintext highlighter-rouge">oidc_active</code> to <code class="language-plaintext highlighter-rouge">false</code> (and running the Ansible playbook again) is not a safe way to disable OIDC: you should also replace the <code class="language-plaintext highlighter-rouge">oidc_client_id</code> and <code class="language-plaintext highlighter-rouge">oidc_client_secret</code> values with placeholders.</li>
  <li>oidc_client_id</li>
  <li>oidc_client_secret</li>
  <li>oidc_auth_base_uri</li>
  <li>oidc_token_uri</li>
  <li>oidc_userinfo_uri</li>
  <li>oidc_jwks_uri, which returns all the valid JSON Web Key sets</li>
  <li>oidc_jwt_issuer, the <code class="language-plaintext highlighter-rouge">iss</code> value in the JWT token</li>
</ul>

<p>Additionally, depending on the authorization server, you may need to configure the following variables:</p>
<ul>
  <li>oidc_scopes (default: <code class="language-plaintext highlighter-rouge">openid</code>)</li>
  <li>oidc_acr_values</li>
  <li>oidc_email_field (default: <code class="language-plaintext highlighter-rouge">email</code>)</li>
  <li>oidc_login_hint (default: <code class="language-plaintext highlighter-rouge">true</code>)</li>
</ul>

<p>Finally, for customization purposes, you can also configure:</p>
<ul>
  <li>oidc_domains, which should be an array of domains with OIDC authentication, e.g. <code class="language-plaintext highlighter-rouge">["mydomain.com","myotherdomain.com","*.allsubdomains.com"]</code>.
By default, OIDC authentication is enabled for every domain (provided that oidc_active is set to <code class="language-plaintext highlighter-rouge">true</code>)</li>
  <li>oidc_signin_text (deprecated since v1.8)</li>
</ul>

<p>For token verification there are also the following parameters which define what checks are done when verifying a JWT. Take caution when setting values to <code class="language-plaintext highlighter-rouge">false</code>, as this makes verification less strict. Details can be found in the group_vars file.</p>
<ul>
  <li>oidc_req_exp (default: <code class="language-plaintext highlighter-rouge">true</code>)</li>
  <li>oidc_req_iat (default: <code class="language-plaintext highlighter-rouge">false</code>)</li>
  <li>oidc_req_nbf (default: <code class="language-plaintext highlighter-rouge">false</code>)</li>
  <li>oidc_verify_aud (default: <code class="language-plaintext highlighter-rouge">true</code>)</li>
  <li>oidc_verify_iat (default: <code class="language-plaintext highlighter-rouge">false</code>)</li>
  <li>oidc_verify_exp (default: <code class="language-plaintext highlighter-rouge">true</code>)</li>
  <li>oidc_verify_iss (default: <code class="language-plaintext highlighter-rouge">true</code>)</li>
</ul>

<p>If your identity provider is in a different domain than the Yoda portal, you need to set <code class="language-plaintext highlighter-rouge">portal_session_cookie_samesite</code> to <code class="language-plaintext highlighter-rouge">Lax</code>.</p>
<h2 id="verifying-oidc">
  
  
    <a href="#verifying-oidc" class="anchor-heading" aria-labelledby="verifying-oidc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Verifying OIDC
  
  
</h2>
    
<p>To verify whether the deployment/update went successfully, go to the Yoda portal and click the <em>Sign in</em> button, enter an email address and click <em>Next</em>.
If configured correctly, you should now see an extra button with the text as configured with the <code class="language-plaintext highlighter-rouge">oidc_signin_text</code> variable (default: <em>Sign in with OIDC</em>).</p>

<p>When clicking on the <em>Sign in with OIDC</em> button, login at the configured authorized server and verify that you are returned to the Yoda portal homepage.
If so, you have correctly configured authentication via OIDC.
Please also verify that the standard login method is still working as intended.</p>

<p>Alternatively, if you have configured the <code class="language-plaintext highlighter-rouge">oidc_domains</code> parameter, entering an email address with the configured domain and clicking <em>Next</em> should redirect you automatically to the configured authorization server.
Follow the above steps as if having clicked the <em>Sign in with OIDC</em> button</p>
<h2 id="troubleshooting">
  
  
    <a href="#troubleshooting" class="anchor-heading" aria-labelledby="troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting
  
  
</h2>
    
<ul>
  <li><strong>The Sign in with OIDC button is missing:</strong> check if the <code class="language-plaintext highlighter-rouge">oidc_active</code> variable is set to <code class="language-plaintext highlighter-rouge">true</code> in you group_vars and run the Ansible playbook again.</li>
  <li><strong>After signing in at the authorization server I am redirected to the login screen with the error 'Failed to login to Yoda. Please contact a data manager about your account.':</strong> This can have multiple causes:
    <ol>
      <li>The user that is trying to sign in does not exist, or</li>
      <li>An error occurred after signing in at the authorization server.</li>
    </ol>

    <p>To check whether the problem is caused by case 1, verify that the user exists in Yoda and add them if they are not.
  To solve case 2, re-check the client secret, the token URI, the email field, the public key, and scopes variables.</p>
  </li>
</ul>

          

          
        </main>
        

  <hr>
  <footer>
    

    <p class="text-small text-grey-dk-100 mb-0">Licensed under <a href="https://github.com/UtrechtUniversity/yoda/blob/development/LICENSE">GPLv3</a>.</p>

    
      <div class="d-flex mt-2">
        
        
          <p class="text-small text-grey-dk-000 mb-0">
            <a href="https://github.com/UtrechtUniversity/yoda/tree/development/docs/administration/configuring-openidc.md" id="edit-this-page">Edit this page on GitHub.</a>
          </p>
        
      </div>
    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

