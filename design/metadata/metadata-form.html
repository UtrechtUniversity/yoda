<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Metadata form - Yoda</title> <link rel="shortcut icon" href="/yoda/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/yoda/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/yoda/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/yoda/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Metadata form | Yoda</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Metadata form" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" /> <meta property="og:description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" /> <meta property="og:site_name" content="Yoda" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Metadata form" /> <script type="application/ld+json"> {"description":"On this website you can find release notes and technical documentation on software design and administration tasks of Yoda","@type":"WebPage","url":"/yoda/design/metadata/metadata-form.html","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/yoda/yoda.png"}},"headline":"Metadata form","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/yoda/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/yoda/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/release-notes/" class="nav-list-link">Release Notes</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/release-notes/release-1.8.html" class="nav-list-link">v1.8</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.7.html" class="nav-list-link">v1.7</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.6.html" class="nav-list-link">v1.6</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.5.html" class="nav-list-link">v1.5</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.4.html" class="nav-list-link">v1.4</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.3.html" class="nav-list-link">v1.3</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.2.html" class="nav-list-link">v1.2</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.1.html" class="nav-list-link">v1.1</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.0.html" class="nav-list-link">v1.0</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-0.9.7.html" class="nav-list-link">v0.9.7</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/" class="nav-list-link">Software Design</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/design/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/overview/" class="nav-list-link">System Overview</a><ul class="nav-list"><li class="nav-list-item "> <a href="/yoda/design/overview/research-space.html" class="nav-list-link">Research space</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/vault-space.html" class="nav-list-link">Vault space</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/group-manager.html" class="nav-list-link">Group manager</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/statistics.html" class="nav-list-link">Statistics module</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/data-requests.html" class="nav-list-link">Data requests module</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/deposit-space.html" class="nav-list-link">Deposit space</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/external-user-service.html" class="nav-list-link">External User Service</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/yoda-moai.html" class="nav-list-link">Yoda MOAI service</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/metadata/" class="nav-list-link">Metadata</a><ul class="nav-list"><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-form-json.html" class="nav-list-link">Metadata JSON schema</a> </li><li class="nav-list-item active"> <a href="/yoda/design/metadata/metadata-form.html" class="nav-list-link active">Metadata form</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-import-export-technical.html" class="nav-list-link">Metadata import and export</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-mappings.html" class="nav-list-link">Metadata mappings</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-schema-identifier.html" class="nav-list-link">Metadata schema identifier</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-schemas.html" class="nav-list-link">Metadata schemas</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-transformation.html" class="nav-list-link">Metadata transformations</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-vault.html" class="nav-list-link">Metadata vault</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/processes/" class="nav-list-link">Processes</a><ul class="nav-list"><li class="nav-list-item "> <a href="/yoda/design/processes/async-system-execution.html" class="nav-list-link">Asynchronous and Privileged Execution</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/locking-mechanism.html" class="nav-list-link">Folder Locking mechanism</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/publication-process.html" class="nav-list-link">Publication Process</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/revisions.html" class="nav-list-link">Revision management</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/vault-process.html" class="nav-list-link">To vault process in research module</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/administration/" class="nav-list-link">Administration Tasks</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/administration/configuring-yoda.html" class="nav-list-link">Configuring Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/deploying-yoda.html" class="nav-list-link">Deploying Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/hotfixing-ruleset.html" class="nav-list-link">Hotfixing ruleset</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-licenses.html" class="nav-list-link">Installing Licenses</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-terms.html" class="nav-list-link">Installing Terms & Conditions</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-preservable-file-formats.html" class="nav-list-link">Installing lists of preservable file formats</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-metadata-schemas.html" class="nav-list-link">Installing metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-datarequest-module.html" class="nav-list-link">Installing datarequest module</a></li><li class="nav-list-item "><a href="/yoda/administration/upgrading-metadata-schemas.html" class="nav-list-link">Upgrading metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/background-jobs.html" class="nav-list-link">Long-running background jobs</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-publication.html" class="nav-list-link">Troubleshooting publication</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-openidc.html" class="nav-list-link">Configuring OIDC</a></li><li class="nav-list-item "><a href="/yoda/administration/restore-collection.html" class="nav-list-link">Restore collection</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/development/" class="nav-list-link">Development</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/development/setting-up-development-environment.html" class="nav-list-link">Setting up development environment</a></li><li class="nav-list-item "><a href="/yoda/development/development-tips.html" class="nav-list-link">Development tips</a></li><li class="nav-list-item "><a href="/yoda/development/wall-of-fame.html" class="nav-list-link">Wall of Fame</a></li><li class="nav-list-item "><a href="/yoda/development/yodadrive-development-environment.html" class="nav-list-link">Setting up YodaDrive development environment</a></li></ul></li><li class="nav-list-item"><a href="/yoda/development/authentication.html" class="nav-list-link">Authentication</a></li><li class="nav-list-item"><a href="/yoda/administration/troubleshooting-email.html" class="nav-list-link">How to troubleshoot email-related issues</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Yoda" aria-label="Search Yoda" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/UtrechtUniversity/yoda" class="site-button" > Yoda on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/yoda/design/">Software Design</a></li> <li class="breadcrumb-nav-list-item"><a href="/yoda/design/metadata/">Metadata</a></li> <li class="breadcrumb-nav-list-item"><span>Metadata form</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="metadata-form"> <a href="#metadata-form" class="anchor-heading" aria-labelledby="metadata-form"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Metadata form </h1> <h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <p>A Yoda instance holds research information regarding communities (categories).<br /> The type of research data can differ between communities.<br /> Metadata, that has to be registered together with research data, can differ as well between communities.<br /> Yoda supports communities to use their own metadata accompanying their research by giving them the support of a specific metadata form. If no form exists for a specific community then the standard metadata form is used.</p> <h2 id="generic-implementation"> <a href="#generic-implementation" class="anchor-heading" aria-labelledby="generic-implementation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generic implementation </h2> <p>The metadata form handling is technically implemented in a generic manner.</p> <p>Within Yoda is it used in</p> <ul> <li>RESEARCH area <br /> to view/edit/add metadata for a dataset that will be placed in the vault. All in terms of the corresponding community</li> <li>VAULT area<br /> to view/edit/add the metatadata that accompanied a datasets when accepted for the vault. All in terms of the corresponding community</li> <li>DATAREQUEST module Given the generic implementation of the form it is utilized in a whole different context for the DATAREQUEST module within Yoda.</li> </ul> <p><em>Only the Research and Vault implementation is discussed in this document.</em></p> <h2 id="form-functionality"> <a href="#form-functionality" class="anchor-heading" aria-labelledby="form-functionality"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Form functionality </h2> <p>The metadata form handling is implemented in a generic manner. <br /> In itself the generic metadata form deals with two situations, i.e.</p> <ul> <li>an editable form in which users can edit/add metadata to a datapackage</li> <li>a readonly view on this metadata as previously entered by a researcher</li> </ul> <p>What the generic (metadata) form deals with:</p> <ul> <li>Presenting a form for the metadata of a specific datapackage where the elements on the form are configurable dependent on category</li> <li>A default metadata form configuration when no metadata form configuration exists for a category</li> <li>Possibility to have dependencies between elements on the form in order to form clear relations between the data</li> <li>Determining completeness of the form and giving proper indications to the user dependent on the category a datapackage belongs to</li> <li>Determining validity of the metadata form data dependent on the category a datapackage belongs to</li> <li>Saving the metadata to a file in XML format within the datapackage (called yoda-metadata.xml) The file that can be edited via web disk as well by users with sufficient permissions</li> <li>When data is saved correctly add the metadata to iCAT system as AVU’s to the corresponding datapackage information as well. This so these metadata entries can be searched by users</li> <li>Offering possibilities to, after correctly/successfully validating a metadata set, the result can be used for further actions. Like the ability <ul> <li>to bring a datapackage / metadata to the vault from within the dynamic storage environment</li> <li>to save several metadata files, with unique names, within the vault</li> </ul> </li> <li>readonly view on metadata for a datapackage</li> </ul> <p><em>REACT FORM</em> <br /> Within Yoda, REACT is the center for metadata form handling. It gives the development team more flexibility in extending form possibilities.</p> <p>REACT relies on JSON data and JSON validation schema’s.<br /> Within Yoda metadata is kept in XML (filename is yoda-metadata.xml). That is why internally transformations will have to take place from JSON to XML and vice versa.</p> <p>Data validation (when submitting metadata for the vault) will still take place based on XSD’s.</p> <p><strong>Yoda metadata is still saved in XML and as such available/accessible for the enduser.</strong></p> <h2 id="integral-part-of-yoda"> <a href="#integral-part-of-yoda" class="anchor-heading" aria-labelledby="integral-part-of-yoda"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integral part of Yoda </h2> <h3 id="react-form"> <a href="#react-form" class="anchor-heading" aria-labelledby="react-form"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> React-form </h3> <p>In essence React-form is a fully configurable form handler that is based on javascript and JSON schema.<br /> Fields can be configured using javascript classes.<br /> The form can be fully integrated in an application like for instance Yoda.</p> <ul> <li>Data can be exported (posted) to the application’s backend</li> <li>Data can be imported into the form and presented in the form’s fields</li> </ul> <h2 id="yoda-integration"> <a href="#yoda-integration" class="anchor-heading" aria-labelledby="yoda-integration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Yoda integration </h2> <h3 id="import-yoda-metadataxml-and-presentation-in-the-form"> <a href="#import-yoda-metadataxml-and-presentation-in-the-form" class="anchor-heading" aria-labelledby="import-yoda-metadataxml-and-presentation-in-the-form"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Import yoda-metadata.xml and presentation in the form </h3> <p>Yoda-backend serves the frontend in creating a page holding the react form as a fully integrated part of Yoda.<br /> metadata.JSON holds the full definition of the form and is used for validation purposes as well.<br /> yoda-metadata.xml, the file that holds previously saved metadata, is transformed in terms of the metadata.JSON so the form can present the data.</p> <h3 id="export-json-to-xml"> <a href="#export-json-to-xml" class="anchor-heading" aria-labelledby="export-json-to-xml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Export (JSON to XML) </h3> <p>When a user fills out the form and presses ‘Save’, the data is posted to the indicated backend. This JSON response is transformed into the collection specific yoda-metadata.xml.</p> <h3 id="deviations-from-standard-react-form"> <a href="#deviations-from-standard-react-form" class="anchor-heading" aria-labelledby="deviations-from-standard-react-form"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deviations from standard React form </h3> <p>Yoda has some clear deviations from the standard functionality of React form. This to be able to mimic the behaviour of the preceding (own development) form that did not use JSON form yet.</p> <h4 id="default-handling-of-react-form-is-that-when-fields-are-clonable-they-are-initially-not-visible"> <a href="#default-handling-of-react-form-is-that-when-fields-are-clonable-they-are-initially-not-visible" class="anchor-heading" aria-labelledby="default-handling-of-react-form-is-that-when-fields-are-clonable-they-are-initially-not-visible"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default handling of React form is that when fields are clonable they are initially not visible. </h4> <p>Only after hitting the (add) button they become visible.<br /> There are challenges in correctly initializing array fields.</p> <p>Our own Yoda form requires clonable fields to be present in the form already.</p> <h3 id="specific-options-menu-depending-on-working-in-research-or-vault-area"> <a href="#specific-options-menu-depending-on-working-in-research-or-vault-area" class="anchor-heading" aria-labelledby="specific-options-menu-depending-on-working-in-research-or-vault-area"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Specific options menu depending on working in research or vault area </h3> <p>Depending on the area/module a user is working in, different options become available in the options menu.</p> <h4 id="research-area"> <a href="#research-area" class="anchor-heading" aria-labelledby="research-area"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Research area </h4> <p>‘To vault’ functionality<br /> Request a dataset in the research area to be saved into the vault.</p> <h4 id="vault-area"> <a href="#vault-area" class="anchor-heading" aria-labelledby="vault-area"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Vault area </h4> <p>‘Publish’ functionality<br /> Request publication of a dataset in the vault.</p> <h2 id="basic-structure"> <a href="#basic-structure" class="anchor-heading" aria-labelledby="basic-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Basic structure </h2> <p>The metadata form is based on React library (https://reactjs.org/) a javascript library intended for frontend purposes.</p> <p>This is fitted into the place where the (now obsolete) previous version of metadata handling was situated.<br /> React replaces the older metadata handling processes completely.</p> <h3 id="required-files-and-purposes"> <a href="#required-files-and-purposes" class="anchor-heading" aria-labelledby="required-files-and-purposes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Required files and purposes </h3> <ul> <li>React library javascript library.<br /> This forms the generic basis for the frontend.<br />  </li> <li>metadata.json - JSON schema<br /> A JSON file that mainly holds the structural definition of the metadata form as well as mandatoriness.<br /> This file has been designed for the Yoda implementation and is based on the JSON schema specification (https://json-schema.org/). The metadata.json file mainly holds all information for the metadata form: <ol> <li>Declaration of groups of elements</li> <li>Element names corresponding to the XSD</li> <li>Element specifics intended for the researcher, like <ul> <li>Label of the input element</li> <li>tooltips when hovering over the field</li> <li>Default value when no metadata has been saved yet</li> </ul> </li> <li>Mandatoriness of metadata Metadata fields can be configured as being mandatory when requested to be accepted in the vault. Special mandatoryness-rules apply for compound fields and subproperty structures. This is discusses further in this document.</li> </ol> </li> <li> <p>research.XSD<br /> The research XSD is used to validate and describe metatadata that is in the research area. This XSD is in fact a translation of the corresponding JSON schema.<br /> To be able to do so, an application (<a href="https://github.com/UtrechtUniversity/irods-ruleset-research/blob/development/tools/json-to-xsd.py">json-to-xsd</a>) was created.</p> </li> <li> <p>vault.XSD<br /> The vault XSD is used to validate metadata before it is allowed to be entered in the vault area.<br /> This XSD is in fact a translation of the corresponding JSON schema.<br /> To be able to do so, an application (<a href="https://github.com/UtrechtUniversity/irods-ruleset-research/blob/development/tools/json-to-xsd.py">json-to-xsd</a>) was created.</p> </li> <li>yoda-metadata.xml<br /> Holds, in XML format, the metadata as entered by the user.<br /> This, either after a save action of the user from within the form, or when edited directly when using a webDAV client.<br /> The XML data should comply to the corresponding XSD before the metadata can be accepted into the vault.</li> </ul> <h3 id="complex-data-structures"> <a href="#complex-data-structures" class="anchor-heading" aria-labelledby="complex-data-structures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Complex Data structures </h3> <h4 id="subproperty-structure"> <a href="#subproperty-structure" class="anchor-heading" aria-labelledby="subproperty-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Subproperty structure </h4> <p>Subproperties designate a structure consisting of</p> <ol> <li>one lead element</li> <li>N elements (subproperties) linked to the lead element organised as one group</li> </ol> <p>The lead elemenent can be of every type as mentioned earlier.</p> <h4 id="implicit-mandatoriness"> <a href="#implicit-mandatoriness" class="anchor-heading" aria-labelledby="implicit-mandatoriness"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implicit mandatoriness </h4> <p>Subproperties cannot exist without the lead information being present. Saving subproperties that have no lead-data will be deleted when saved. I.e. the lead information becomes implicitly mandatory when subproperty data exists.</p> <h4 id="mandatory-subproperty-within-a-subproperty-structure"> <a href="#mandatory-subproperty-within-a-subproperty-structure" class="anchor-heading" aria-labelledby="mandatory-subproperty-within-a-subproperty-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mandatory subproperty within a subproperty structure </h4> <p>A subproperty can be configured as being mandatory. This rule only applies when lead information is present.</p> <h4 id="multiplicitycloning-for-subproperty-structure"> <a href="#multiplicitycloning-for-subproperty-structure" class="anchor-heading" aria-labelledby="multiplicitycloning-for-subproperty-structure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Multiplicity/cloning for subproperty structure: </h4> <p>The entire structure can be cloned (if set to multiple within the JSONS). Subproperties themselves can be cloned if configured in JSONS Compound fields (see further) can be treated as subproperties and all the above rules will be applicable to these a well (and their own compound properties will be maintained as well)</p> <h4 id="compound-elements"> <a href="#compound-elements" class="anchor-heading" aria-labelledby="compound-elements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compound elements </h4> <p>A compound element is an element that consists of several, at least one, related elements. They are considered to belong together and in that sense treated in that manner.</p> <h4 id="multiplicitycloning-of-compounds"> <a href="#multiplicitycloning-of-compounds" class="anchor-heading" aria-labelledby="multiplicitycloning-of-compounds"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Multiplicity/cloning of compounds </h4> <p>Entire element can be made cloneable – thus cloning the total structure in its entirety</p> <p>Each individual constructing element within the compound can be made cloneable as well– thus cloning the element within its compound element.</p> <p><strong>Implicit mandatoriness when compound is partly filled.</strong> If one element of a compound is filled, all the others have to be filled as well. These are considered mandatory as well. Partly filling a compound is not accepted as being valid information</p> <h3 id="compound-field-as-a-subproperty"> <a href="#compound-field-as-a-subproperty" class="anchor-heading" aria-labelledby="compound-field-as-a-subproperty"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compound field as a subproperty </h3> <p>A compound field can be regarded as being a single element. Therefore, it can also be used as a a subproperty. This is especially useful when the need exists to save the relation of one leading element and a set of information that belongs together.</p> <h4 id="mandatoriness"> <a href="#mandatoriness" class="anchor-heading" aria-labelledby="mandatoriness"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mandatoriness </h4> <p>Again, if one of the compound elements fields holds data, the other element(s) become mandatory as well. I.e. data cannot be saved when a compound field is not fully filled out.</p> <h4 id="multiplicitycloning-entire-compound"> <a href="#multiplicitycloning-entire-compound" class="anchor-heading" aria-labelledby="multiplicitycloning-entire-compound"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Multiplicity/cloning entire compound </h4> <p>A compound field can be regarded as one element. Therefore, it can be cloned in its entirety adding one (or more) cloned compounds to the lead element.</p> <h4 id="multiplicity--cloning-elements-within-a-compound"> <a href="#multiplicity--cloning-elements-within-a-compound" class="anchor-heading" aria-labelledby="multiplicity--cloning-elements-within-a-compound"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Multiplicity – cloning element(s) within a compound </h4> <p>As a compound is constructed with normal elements it is possible to add cloning to each or one specific element within a compound element.</p> <h3 id="general-validation-rules-for-complex-structures"> <a href="#general-validation-rules-for-complex-structures" class="anchor-heading" aria-labelledby="general-validation-rules-for-complex-structures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General validation rules for complex structures </h3> <p>Subproperties cannot exist without a lead/main property being present. I.e. A subproperty structure without lead information is regarded as incomplete information. As a result the corresponding datapackage will not be accepted for the vault.</p> <ul> <li>A subproperty can be configured as being mandatory.*</li> </ul> <p>However, this rule is only valid when the corresponding lead element is filled. In other words, eventhough a mandatory rule exists on a subproperty, the actual subproperty-structure could still be configured as being none-mandatory for the vault.</p> <ul> <li>Completeness of a compound field*</li> </ul> <p>Compounds are constructed of separate fields but can be regarded as one element. If one element of a compound field holds a value the other n fields should hold a value as well.</p> <ul> <li>Completeness of a compound field as a subproperty* Compound fields within a subproperty structure follow the same rules as on highest level. I.e. when one element is filled, all elements must be filled.</li> </ul> <h2 id="integration-of-react-form-within-yoda"> <a href="#integration-of-react-form-within-yoda" class="anchor-heading" aria-labelledby="integration-of-react-form-within-yoda"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integration of REACT form within Yoda </h2> <p>The file</p> <p>    <em>Yoda-module</em>/app/index.js</p> <p>holds all Yoda-application specific javascript code to tweak the REACT form to the needs of the application.<br /> It handles all Yoda specific situations where the REACTform is involved.<br /> It integrates it within the Yoda application.</p> <p>Code changes do not directly take effect.<br /> In order to effectuate, use:</p> <p>./node_modules/.bin/webpack -d<br /> in:<br /> /var/www/yoda/yoda-portal/modules/research</p> <p>Since there is a separate vault module this will hold its own /app/index.js</p> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2021 <a href="https://www.uu.nl/">Utrecht University</a>. Licensed under <a href="https://github.com/UtrechtUniversity/yoda/blob/development/LICENSE">GPLv3</a>.</p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/UtrechtUniversity/yoda/tree/pyportal/docs/design/metadata/metadata-form.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
