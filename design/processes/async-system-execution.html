<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Asynchronous and Privileged Execution - Yoda</title> <link rel="shortcut icon" href="/yoda/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/yoda/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/yoda/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/yoda/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Asynchronous and Privileged Execution | Yoda</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Asynchronous and Privileged Execution" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" /> <meta property="og:description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" /> <meta property="og:site_name" content="Yoda" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Asynchronous and Privileged Execution" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"On this website you can find release notes and technical documentation on software design and administration tasks of Yoda","headline":"Asynchronous and Privileged Execution","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/yoda/yoda.svg"}},"url":"/yoda/design/processes/async-system-execution.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/yoda/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/yoda/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/release-notes/" class="nav-list-link">Release Notes</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/release-notes/release-1.8.html" class="nav-list-link">v1.8</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.7.html" class="nav-list-link">v1.7</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.6.html" class="nav-list-link">v1.6</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.5.html" class="nav-list-link">v1.5</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.4.html" class="nav-list-link">v1.4</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.3.html" class="nav-list-link">v1.3</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.2.html" class="nav-list-link">v1.2</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.1.html" class="nav-list-link">v1.1</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.0.html" class="nav-list-link">v1.0</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-0.9.7.html" class="nav-list-link">v0.9.7</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/" class="nav-list-link">Software Design</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/design/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/overview/" class="nav-list-link">System Overview</a><ul class="nav-list"><li class="nav-list-item "> <a href="/yoda/design/overview/research-space.html" class="nav-list-link">Research space</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/vault-space.html" class="nav-list-link">Vault space</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/group-manager.html" class="nav-list-link">Group manager</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/statistics.html" class="nav-list-link">Statistics module</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/deposit-space.html" class="nav-list-link">Deposit space</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/theme-packages.html" class="nav-list-link">Theme packaging</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/intake.html" class="nav-list-link">Intake module</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/data-requests.html" class="nav-list-link">Data requests module</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/authentication.html" class="nav-list-link">Authentication</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/data_package_reference.html" class="nav-list-link">Data Package Reference</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/deployment.html" class="nav-list-link">Deployment</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/external-user-service.html" class="nav-list-link">External User Service</a> </li><li class="nav-list-item "> <a href="/yoda/design/overview/yoda-moai.html" class="nav-list-link">Yoda MOAI service</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/metadata/" class="nav-list-link">Metadata</a><ul class="nav-list"><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-form-json.html" class="nav-list-link">Metadata JSON schema</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-form.html" class="nav-list-link">Metadata form</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-import-export-technical.html" class="nav-list-link">Metadata import and export</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-mappings.html" class="nav-list-link">Metadata mappings</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-schema-identifier.html" class="nav-list-link">Metadata schema identifier</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-schemas.html" class="nav-list-link">Metadata schemas</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-transformation.html" class="nav-list-link">Metadata transformations</a> </li><li class="nav-list-item "> <a href="/yoda/design/metadata/metadata-vault.html" class="nav-list-link">Metadata vault</a> </li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/design/processes/" class="nav-list-link">Processes</a><ul class="nav-list"><li class="nav-list-item active"> <a href="/yoda/design/processes/async-system-execution.html" class="nav-list-link active">Asynchronous and Privileged Execution</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/asynchronous-processes.html" class="nav-list-link">Asynchronous processes</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/locking-mechanism.html" class="nav-list-link">Folder Locking mechanism</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/publication-process.html" class="nav-list-link">Publication Process</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/revisions.html" class="nav-list-link">Revision management</a> </li><li class="nav-list-item "> <a href="/yoda/design/processes/vault-process.html" class="nav-list-link">To vault process in research module</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/administration/" class="nav-list-link">Administration Tasks</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/administration/configuring-yoda.html" class="nav-list-link">Configuring Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/deploying-yoda.html" class="nav-list-link">Deploying Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/hotfixing-ruleset.html" class="nav-list-link">Hotfixing ruleset</a></li><li class="nav-list-item "><a href="/yoda/administration/local-ruleset-patch.html" class="nav-list-link">Local ruleset patches</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-licenses.html" class="nav-list-link">Installing Licenses</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-terms.html" class="nav-list-link">Installing Terms & Conditions</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-preservable-file-formats.html" class="nav-list-link">Installing lists of preservable file formats</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-metadata-schemas.html" class="nav-list-link">Installing metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/local-postfix-mta.html" class="nav-list-link">Local Postfix MTA</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-datarequest-module.html" class="nav-list-link">Installing datarequest module</a></li><li class="nav-list-item "><a href="/yoda/administration/upgrading-metadata-schemas.html" class="nav-list-link">Upgrading metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-publication.html" class="nav-list-link">Troubleshooting publication</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-email.html" class="nav-list-link">Troubleshooting email</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-openidc.html" class="nav-list-link">Configuring OIDC</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-replication-revisions.html" class="nav-list-link">Troubleshooting replication and revision creation</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-cleanup-temporary-files.html" class="nav-list-link">Configuring cleanup functionality temporary files</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-data-access-passwords.html" class="nav-list-link">Configuring Data Access Passwords</a></li><li class="nav-list-item "><a href="/yoda/administration/restore-collection.html" class="nav-list-link">Restore collection</a></li><li class="nav-list-item "><a href="/yoda/administration/setting-job-flags.html" class="nav-list-link">Setting job flags</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/yoda/development/" class="nav-list-link">Development</a><ul class="nav-list "><li class="nav-list-item "><a href="/yoda/development/setting-up-development-environment.html" class="nav-list-link">Setting up development environment</a></li><li class="nav-list-item "><a href="/yoda/development/development-tips.html" class="nav-list-link">Development tips</a></li><li class="nav-list-item "><a href="/yoda/development/wall-of-fame.html" class="nav-list-link">Wall of Fame</a></li><li class="nav-list-item "><a href="/yoda/development/yodadrive-development-environment.html" class="nav-list-link">Setting up YodaDrive development environment</a></li><li class="nav-list-item "><a href="/yoda/development/mock_tape_archive.html" class="nav-list-link">Mock tape archive</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Yoda" aria-label="Search Yoda" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/UtrechtUniversity/yoda" class="site-button" > Yoda on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/yoda/design/">Software Design</a></li> <li class="breadcrumb-nav-list-item"><a href="/yoda/design/processes/">Processes</a></li> <li class="breadcrumb-nav-list-item"><span>Asynchronous and Privileged Execution</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="asynchronous-and-privileged-execution"> <a href="#asynchronous-and-privileged-execution" class="anchor-heading" aria-labelledby="asynchronous-and-privileged-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Asynchronous and Privileged Execution </h1> <p>Yoda uses delayed- and remote rule execution. There are different reasons to apply these constructs, and different ways to use these. Currently there is a bug in iRods whereby output parameters are not passed to delayed- or remote rules. This document explains where and how these constructs are applied.</p> <h2 id="concerns"> <a href="#concerns" class="anchor-heading" aria-labelledby="concerns"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Concerns </h2> <p>The following concerns need to be dealt with:</p> <ol> <li>Security: we must protect the integrity/availability of data in the vault.</li> <li>Interactivity: the interactive user should not wait for tasks.</li> <li>Scalability: tasks with long execution time should not block other processes.</li> <li>Tracability: it should be tracable who was responsible for certain changes.</li> </ol> <p>To address these concerns, we made the following decisions:</p> <ul> <li> <p><strong>Decision: asynchronous execution of tasks with long- or uncertain execution time</strong>. Tasks that require long (say: more than 2 sec) or uncertain execution must be executed asynchronous from the interactive session.<br /> <strong>Rationale</strong>: this allows the interactive session to continue (Concern 2), and these jobs to be scheduled/prioritized (Concern 3).<br /> <strong>Impact</strong>: The interactive user is not informed of the result of the task, but that the task is pending. The user should be informed of the end-result via alternative channels.</p> </li> <li> <p><strong>Decision: exclusive privileges for vault</strong>. Tasks in the vault require exclusive privileges. These privileges may only be assigned to actors that can be trusted. <br /> <strong>Rationale</strong>: Data in the vault must be protected from undesired changes that may damage the integrity/authenticity that is required for reuse of the data (Concern 1).<br /> <strong>Impact</strong>: Privileges may not be assigned to an interactive user, as credentials may be compromised and to prevent human errors. Privileges must be limited to defined procedures that can be trusted to maintain integrity/authenticity. The system must register who ordered such a procedure (Concern 4).</p> </li> </ul> <h2 id="solutions"> <a href="#solutions" class="anchor-heading" aria-labelledby="solutions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Solutions </h2> <p>We identified the following constructs to provide privileged and/or asynchronous execution:</p> <ol> <li>ExecCmd-of-irule for privileged execution.</li> <li>Delayed Rule for asynchronous execution. Currently this does not work in all cases, due to a bug with for delayed rules with output parameters in the top-level call.</li> <li>Cronjob for asynchronous AND privileged execution. This allows a job to be ‘picked up’ and executed within the system environment. Drawback: asynchronous, cronjobs can only be scheduled at minute-granularity, so certain jobs require ~1m to start. We use cronjobs as a fallback when we cannot use delayed rules due to a bug in irods.</li> </ol> <p>The table below describes the ideal application of the above constructs. For now, the the cronjob is sometimes used for all async executions (bottom line).</p> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th><strong>User Environment</strong></th> <th><strong>System Environment</strong></th> </tr> </thead> <tbody> <tr> <td><strong>Synchronous</strong></td> <td>Default</td> <td>Use ExecCmd</td> </tr> <tr> <td><strong>ASynchronous</strong></td> <td>Delayed Rule</td> <td>Delayed Rule + ExecCmd</td> </tr> </tbody> </table></div> <h2 id="further-work"> <a href="#further-work" class="anchor-heading" aria-labelledby="further-work"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Further Work </h2> <ul> <li>Discuss the motivation for using the system/iRods user to increase privileges. Should we ideally use a specific user/role with specific privileges for the vault?</li> <li>Discuss how the state model is reflected in the publication space.</li> <li>Discuss applying ‘pending’ states to the toVault as well, in line with the pending states for publication.</li> <li>Deletion of Data Package from the vault not yet implemented.</li> <li>Create state model for revisions and replications.</li> <li>Create state model for updating metadata.</li> </ul> <h2 id="appendix-overview-of-rules-and-solutions"> <a href="#appendix-overview-of-rules-and-solutions" class="anchor-heading" aria-labelledby="appendix-overview-of-rules-and-solutions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Appendix: Overview of rules and solutions </h2> <p>The image below shows the state model, and indicates the actions that require asynchronous execution and/or privileges. The table below described the individual actions. <img src="/yoda/design/processes/img/ExecutionInStateModel.png" alt="Actions in State Model" /></p> <div class="table-wrapper"><table> <thead> <tr> <th>#</th> <th>Action</th> <th>(a)sync</th> <th>Context</th> <th>State Change</th> <th>Comment</th> </tr> </thead> <tbody> <tr> <td>1a</td> <td>Research2Vault (request)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register Action and request execution</td> </tr> <tr> <td>1b</td> <td>Research2Vault (execution)</td> <td><strong>async</strong></td> <td><strong>system</strong></td> <td>ACCEPTED - SECURED<br />New object: UNPUBLISHED</td> <td>Copy files</td> </tr> <tr> <td>2a</td> <td>Vault2Research (request)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register action and request execution</td> </tr> <tr> <td>2b</td> <td>Vault2Research (execution)</td> <td><strong>async</strong></td> <td>user</td> <td>New object: LOCKED</td> <td>Copy files</td> </tr> <tr> <td>3a</td> <td>SubmitPublication (request)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register action and request execution</td> </tr> <tr> <td>3b</td> <td>SubmitPublication (execution)</td> <td>sync</td> <td><strong>system</strong></td> <td>UNPUBLISHED - SUBMITTED_FOR_PUBLICATION</td> <td> </td> </tr> <tr> <td>4a</td> <td>ApprovePublication (request)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register action ande request execution</td> </tr> <tr> <td>4b</td> <td>ApprovePublication (execution)</td> <td>sync</td> <td><strong>system</strong></td> <td>SUBMITTED_FOR_PUBLICATION - APPROVED_FOR_PUBLICATION</td> <td>trigger Publish</td> </tr> <tr> <td>5</td> <td>Publish</td> <td><strong>async</strong></td> <td><strong>system</strong></td> <td>APPROVED_FOR_PUBLICATION - PUBLISHED</td> <td>Create/Register DOI, PMH, etc.<br /><em>there is no registered within for public area?!</em></td> </tr> <tr> <td>6a</td> <td>RejectPublication (request)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register action and request execution</td> </tr> <tr> <td>6b</td> <td>RejectPublication (execution)</td> <td>sync</td> <td><strong>system</strong></td> <td>SUBMITTED_FOR_PUBLICATION - UNPUBLISHED</td> <td><em>(is nog async, kan tzt sync worden)</em></td> </tr> <tr> <td>7a</td> <td>Published2pending (request)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register action and request execution</td> </tr> <tr> <td>7b</td> <td>Published2pending (execute)</td> <td>sync</td> <td><strong>system</strong></td> <td>PUBLISHED - PENDING_DEPUBLICATION</td> <td> </td> </tr> <tr> <td>7c</td> <td>Pending2depublished</td> <td><strong>async</strong></td> <td><strong>system</strong></td> <td>PENDING_DEPUBLICATION - DEPUBLISHED</td> <td>Update/register DOI, PMH, etc.</td> </tr> <tr> <td>8a</td> <td>Republish2pending (requestt)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register action and request execution</td> </tr> <tr> <td>8b</td> <td>Republish2pending (execution)</td> <td>sync</td> <td><strong>system</strong></td> <td>DEPUBLISHED - PENDING_REPUBLICATION</td> <td>trigger pending2published</td> </tr> <tr> <td>8c</td> <td>Pending2published</td> <td><strong>async</strong></td> <td><strong>system</strong></td> <td>PENDING_REPUBLICATION - PUBLISHED</td> <td>Update/register DOI, PMH, etc.,</td> </tr> <tr> <td>9</td> <td>Revisioning</td> <td><strong>async</strong></td> <td>user</td> <td> </td> <td> </td> </tr> <tr> <td>10</td> <td>Replication</td> <td><strong>async</strong></td> <td>user</td> <td> </td> <td> </td> </tr> <tr> <td>11a</td> <td>Update Vault Metadata (request)</td> <td>sync</td> <td>user</td> <td> </td> <td>Register action and request execution</td> </tr> <tr> <td>11b</td> <td>Update Vault Metadata (execution)</td> <td>sync</td> <td><strong>system</strong></td> <td> </td> <td>Create metadata updates and trigger publication actions</td> </tr> <tr> <td>11c</td> <td>Update Vault Metadata (publishing)</td> <td><strong>async</strong></td> <td><strong>system</strong></td> <td> </td> <td>Update/register DOI, PMH, etc.</td> </tr> </tbody> </table></div> <p>Note that all actions that require async/system execution are preceded by a synchronous user action that registers the action, and triggers the async/system action: 1, 2, 3, 4, , 6, 7, 8.</p> <p>Actions are registered (in principle) in iCat, in provenance (user actions) and in system log. Registration in system log not always consequently.</p> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2022 <a href="https://www.uu.nl/">Utrecht University</a>. Licensed under <a href="https://github.com/UtrechtUniversity/yoda/blob/development/LICENSE">GPLv3</a>.</p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/UtrechtUniversity/yoda/tree/development/docs/design/processes/async-system-execution.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
