<!DOCTYPE html>
<html lang="en">
    <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <link rel="icon" href="/yoda/assets/images/favicon.ico">

  <title>Metadata form</title>

  <link rel='stylesheet' id='bootstrap-css'  href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css' type='text/css' media='all' />
  <link rel="stylesheet" href="/yoda/assets/css/style.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="/yoda/assets/css/custom.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="/yoda/assets/css/print.css" type="text/css" media="print" />
</head>

    <body data-rsssl="1" class="page-template-default page page-id-6 page-parent" data-spy="scroll" data-target="#sidebarnav">
        <div id="page">

            <div id="brandbar" class="affix-top">
    <div class="container">
        <div class="row">
            <div class="col-sm-4 col-xs-8 logodiv">
                <button type="button" class="navbar-toggle hidden-print" data-toggle="collapse" data-target="#main-menu-collapse">
                    <span class="sr-only">Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="https://www.uu.nl/en">
                    <img src="/yoda/assets/images/uu-logo.svg" alt="Logo Utrecht University">
                </a>

                <div class="visible-print-block">
                    <h1>YODA</h1>
                </div>
            </div>

            <div class="col-sm-6 col-xs-4 hidden-print" role="search">
                <!--
                <div class="pull-right">
                    <form method="get" id="searchform" action="https://yoda.sites.uu.nl">
                        <div class="search-wrapper">
                            <label class="screen-reader-text" for="s">'</label>
                            <input type="text" class="searchfield" value="" name="s" id="s" placeholder="Search the Site...">
                            <input type="submit" id="searchsubmit" class="searchbutton" value="î˜€">
                        </div>
                    </form>
                </div>
                -->
            </div>
        </div>
    </div>
</div>
<header id="masthead" class="header hidden-print">
    <div class="container">
        <h1>
            <a href="/yoda" rel="home" title="YODA">
                YODA
            </a>
        </h1>
    </div>
</header>

<a class="skip-link sr-only" href="#content">Skip to content</a>

<!-- MAIN MENU -->
<nav id="#access" class="navbar navbar-default navbar-inverse">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="container">
        <div class="navbar-header"></div>
        <div id="main-menu-collapse" class="collapse navbar-collapse">
            <ul id="menu-hoofdmenu" class="nav navbar-nav">
                
                
                
                <li class="first-item menu-item menu-item-type-post_type menu-item-object-page dropdown">
                    <a title="Release notes" href="/yoda/release-notes/index.html">Release notes</a>
                    
                    
                    
                    <ul class="submenu visible-xs visible-sm nav navbar-nav">
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 1.6" href="/yoda/release-notes/release-1.6.html">
                                Release 1.6
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 1.5" href="/yoda/release-notes/release-1.5.html">
                                Release 1.5
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 1.4" href="/yoda/release-notes/release-1.4.html">
                                Release 1.4
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 1.3" href="/yoda/release-notes/release-1.3.html">
                                Release 1.3
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 1.2" href="/yoda/release-notes/release-1.2.html">
                                Release 1.2
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 1.1" href="/yoda/release-notes/release-1.1.html">
                                Release 1.1
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 1.0" href="/yoda/release-notes/release-1.0.html">
                                Release 1.0
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Release 0.9.7" href="/yoda/release-notes/release-0.9.7.html">
                                Release 0.9.7
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                
                <li class="first-item menu-item menu-item-type-post_type menu-item-object-page dropdown">
                    <a title="Administration" href="/yoda/administration/index.html">Administration</a>
                    
                    
                    
                    <ul class="submenu visible-xs visible-sm nav navbar-nav">
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Installing Licenses" href="/yoda/administration/installing-licenses.html">
                                Installing Licenses
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Installing terms" href="/yoda/administration/installing-terms.html">
                                Installing terms
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Installing metadata schemas" href="/yoda/administration/installing-metadata-schemas.html">
                                Installing metadata schemas
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Upgrading metadata schemas" href="/yoda/administration/upgrading-metadata-schemas.html">
                                Upgrading metadata schemas
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Background jobs" href="/yoda/administration/background-jobs.html">
                                Background jobs
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Troubleshooting publication" href="/yoda/administration/troubleshooting-publication.html">
                                Troubleshooting publication
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Restore collection" href="/yoda/administration/restore-collection.html">
                                Restore collection
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                
                <li class="first-item menu-item menu-item-type-post_type menu-item-object-page dropdown">
                    <a title="Development" href="/yoda/development/index.html">Development</a>
                    
                    
                    
                    <ul class="submenu visible-xs visible-sm nav navbar-nav">
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Setting up development environment" href="/yoda/development/setting-up-development-environment.html">
                                Setting up development environment
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Development environment test users and data" href="/yoda/development/development-test-data.html">
                                Development environment test users and data
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
                
                <li class="first-item menu-item menu-item-type-post_type menu-item-object-page dropdown">
                    <a title="Software design" href="/yoda/design/index.html">Software design</a>
                    
                    
                    
                    <ul class="submenu visible-xs visible-sm nav navbar-nav">
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="System overview" href="/yoda/design/system-overview.html">
                                System overview
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Research space" href="/yoda/design/research-space.html">
                                Research space
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Vault space" href="/yoda/design/vault-space.html">
                                Vault space
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Asynchronous and privileged execution" href="/yoda/design/async-system-execution.html">
                                Asynchronous and privileged execution
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="External user service" href="/yoda/design/external-user-service.html">
                                External user service
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Group manager" href="/yoda/design/group-manager.html">
                                Group manager
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Locking mechanism" href="/yoda/design/locking-mechanism.html">
                                Locking mechanism
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown current-menu-item">
                            <a title="Metadata form" href="/yoda/design/metadata-form.html">
                                Metadata form
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Publication process" href="/yoda/design/publication-process.html">
                                Publication process
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Python plugin" href="/yoda/design/python-plugin.html">
                                Python plugin
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Statistics module" href="/yoda/design/statistics.html">
                                Statistics module
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Revision management" href="/yoda/design/revisions.html">
                                Revision management
                            </a>
                        </li>
                        
                        
                        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children dropdown">
                            <a title="Vault process" href="/yoda/design/vault-process.html">
                                Vault process
                            </a>
                        </li>
                        
                    </ul>
                    
                </li>
                
            </ul>
        </div>
    </div>
</nav>
<!-- /MAIN MENU -->


            <div id="content" class="two-col">
                <header class="article-header article-header-main">
                    <div class="header-image hidden-print">

                        
                        <div class="breadcrumbs" xmlns:v="https://rdf.data-vocabulary.org/#">
                            <div class="container">
							<span property="itemListElement" typeof="ListItem">
								<span property="name">YODA</span>
								<meta property="position" content="1">
							</span>
                            </div>
                        </div>
                        

                        <img src="/yoda/assets/images/header.jpg" alt="">

                        
                        <div class="page-header-placeholder"></div>
                        
                    </div>
                </header>

                <div id="content-wrapper" class="container">
                    <div class="row-offcanvas row-offcanvas-left">
                        <div id="left-sidebar" class="sidebar-offcanvas clearfix hidden-print" role="complementary">
                            <!-- PAGE MENU -->
                            
                            
                            
                            <div class="widget-1 first-widget widget widget_nav_menu">
                                <h4 class="widgettitle">Menu</h4>
                                <div class="menu-hoofdmenu-container">
                                    <!-- PAGE MENU -->
                                    <ul class="menu">
                                        
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/system-overview.html">System overview</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/research-space.html">Research space</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/vault-space.html">Vault space</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/async-system-execution.html">Asynchronous and privileged execution</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/external-user-service.html">External user service</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/group-manager.html">Group manager</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/locking-mechanism.html">Locking mechanism</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children current-menu-item">
                                                <a href="/yoda/design/metadata-form.html">Metadata form</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/publication-process.html">Publication process</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/python-plugin.html">Python plugin</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/statistics.html">Statistics module</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/revisions.html">Revision management</a>
                                            </li>
                                        
                                            
                                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children">
                                                <a href="/yoda/design/vault-process.html">Vault process</a>
                                            </li>
                                        
                                    </ul>
                                </div>
                            </div>
                            
                            <!-- /PAGE MENU -->
                        </div>

                        <div class="page-content clearfix">
                            
                            <div class="page-title">
                                <h1>
                                    Metadata form
                                </h1>
                            </div>
                            
			    <!--
                            <div class="toggle-btn-div visible-xs clearfix">
                                <button type="button" class="toggle-btn white button icon left arrow-right" data-toggle="offcanvas">
                                    Show sidebar
                                </button>
                            </div>
                            -->
                            <div class="page-content-inner facetwp-template">

                                <article id="post-6" class="clearfix post-6 page type-page status-publish hentry first-post">
                                    <section class="entry-content">
                                        <h1 id="metadata-form">Metadata form</h1>
<h2 id="introduction">Introduction</h2>
<p>A Yoda instance holds research information regarding communities (categories).<br />
The type of research data can differ between communities.<br />
Metadata, that has to be registered together with research data, can differ as well between communities.<br />
Yoda supports communities to use their own metadata accompanying their research by giving them the support of a specific metadata form. If no form exists for a specific community then the standard metadata form is used.</p>

<h2 id="generic-implementation">Generic implementation</h2>
<p>The metadata form handling is technically implemented in a generic manner.</p>

<p>Within Yoda is it used in</p>
<ul>
  <li>RESEARCH area  <br />
to view/edit/add metadata for a dataset that will be placed in the vault. All in terms of the corresponding community</li>
  <li>VAULT area<br />
to view/edit/add the metatadata that accompanied a datasets when accepted for the vault. All in terms of the corresponding community</li>
  <li>DATAREQUEST module
Given the generic implementation of the form it is utilized in a whole different context for the DATAREQUEST module within Yoda.</li>
</ul>

<p><em>Only the Research and Vault implementation is discussed in this document.</em></p>

<h2 id="form-functionality">Form functionality</h2>
<p>The metadata form handling is implemented in a generic manner. <br />
In itself the generic metadata form deals with two situations, i.e.</p>
<ul>
  <li>an editable form in which users can edit/add metadata to a datapackage</li>
  <li>a readonly view on this metadata as previously entered by a researcher</li>
</ul>

<p>What the generic (metadata) form deals with:</p>
<ul>
  <li>Presenting a form for the metadata of a specific datapackage where the elements on the form are configurable dependent on category</li>
  <li>A default metadata form configuration when no metadata form configuration exists for a category</li>
  <li>Possibility to have dependencies between elements on the form in order to form clear relations between the data</li>
  <li>Determining completeness of the form and giving proper indications to the user dependent on the category a datapackage belongs to</li>
  <li>Determining validity of the metadata form data dependent on the category a datapackage belongs to</li>
  <li>Saving the metadata to a file in XML format within the datapackage (called yoda-metadata.xml)
The file that can be edited via web disk as well by users with sufficient permissions</li>
  <li>When data is saved correctly add the metadata to iCAT system as AVUâ€™s to the corresponding datapackage information as well. This so these metadata entries can be searched by users</li>
  <li>Offering possibilities to, after correctly/successfully validating a metadata set, the result can be used for further actions.  Like the ability
    <ul>
      <li>to bring a datapackage / metadata to the vault from within the dynamic storage environment</li>
      <li>to save several metadata files, with unique names, within the vault</li>
    </ul>
  </li>
  <li>readonly view on metadata for a datapackage</li>
</ul>

<p><em>REACT FORM</em> <br />
Within Yoda, REACT is the center for metadata form handling. It gives the development team more flexibility in extending form possibilities.</p>

<p>REACT relies on JSON data and JSON validation schemaâ€™s.<br />
Within Yoda metadata is kept in XML (filename is yoda-metadata.xml).
That is why internally transformations will have to take place from JSON to XML and vice versa.</p>

<p>Data validation (when submitting metadata for the vault) will still take place based on XSDâ€™s.</p>

<p><strong>Yoda metadata is still saved in XML and as such available/accessible for the enduser.</strong></p>

<h2 id="integral-part-of-yoda">Integral part of Yoda</h2>

<h3 id="react-form">React-form</h3>
<p>In essence React-form is a fully configurable form handler that is based on javascript and JSON schema.<br />
Fields can be configured using javascript classes.<br />
The form can be fully integrated in an application like for instance Yoda.</p>

<ul>
  <li>Data can be exported (posted) to the applicationâ€™s backend</li>
  <li>Data can be imported into the form and presented in the formâ€™s fields</li>
</ul>

<h2 id="yoda-integration">Yoda integration</h2>

<h3 id="import-yoda-metadataxml-and-presentation-in-the-form">Import yoda-metadata.xml and presentation in the form</h3>
<p>Yoda-backend serves the frontend in creating a page holding the react form as a fully integrated part of Yoda.<br />
metadata.JSON holds the full definition of the form and is used for validation purposes as well.<br />
yoda-metadata.xml, the file that holds previously saved metadata, is transformed in terms of the metadata.JSON so the form can present the data.</p>

<h3 id="export-json-to-xml">Export (JSON to XML)</h3>
<p>When a user fills out the form and presses â€˜Saveâ€™, the data is posted to the indicated backend.
This JSON response is transformed into the collection specific yoda-metadata.xml.</p>

<h3 id="deviations-from-standard-react-form">Deviations from standard React form</h3>
<p>Yoda has some clear deviations from the standard functionality of React form. This to be able to mimic the behaviour of the preceding (own development) form that did not use JSON form yet.</p>

<h4 id="default-handling-of-react-form-is-that-when-fields-are-clonable-they-are-initially-not-visible">Default handling of React form is that when fields are clonable they are initially not visible.</h4>
<p>Only after hitting the (add) button they become visible.<br />
There are challenges in correctly initializing array fields.</p>

<p>Our own Yoda form requires clonable fields to be present in the form already.</p>

<h3 id="specific-options-menu-depending-on-working-in-research-or-vault-area">Specific options menu depending on working in research or vault area</h3>
<p>Depending on the area/module a user is working in, different options become available in the options menu.</p>

<h4 id="research-area">Research area</h4>
<p>â€˜To vaultâ€™ functionality<br />
Request a dataset in the research area to be saved into the vault.</p>

<h4 id="vault-area">Vault area</h4>
<p>â€˜Publishâ€™ functionality<br />
Request publication of a dataset in the vault.</p>

<h2 id="basic-structure">Basic structure</h2>

<p>The metadata form is based on React library (https://reactjs.org/)  a javascript library intended for frontend purposes.</p>

<p>This is fitted into the place where the (now obsolete) previous version of metadata handling was situated.<br />
React replaces the older metadata handling processes completely.</p>

<h3 id="required-files-and-purposes">Required files and purposes</h3>
<ul>
  <li>React library javascript library.<br />
This forms the generic basis for the frontend.<br />
â€ƒ</li>
  <li>metadata.json - JSON schema<br />
A JSON file that mainly holds the structural definition of the metadata form as well as mandatoriness.<br />
This file has been designed for the Yoda implementation and is based on the JSON schema specification (https://json-schema.org/).
The metadata.json file mainly holds all information for the metadata form:
    <ol>
      <li>Declaration of groups of elements</li>
      <li>Element names corresponding to the XSD</li>
      <li>Element specifics intended for the researcher, like
        <ul>
          <li>Label of the input element</li>
          <li>tooltips when hovering over the field</li>
          <li>Default value when no metadata has been saved yet</li>
        </ul>
      </li>
      <li>Mandatoriness of metadata
Metadata fields can be configured as being mandatory when requested to be accepted in the vault.
Special mandatoryness-rules apply for compound fields and subproperty structures.
This is discusses further in this document.</li>
    </ol>
  </li>
  <li>
    <p>research.XSD<br />
The research XSD is used to validate and describe metatadata that is in the research area.
This XSD is in fact a translation of the corresponding JSON schema.<br />
To be able to do so, an application (<a href="https://github.com/UtrechtUniversity/irods-ruleset-research/blob/development/tools/json-to-xsd.py">json-to-xsd</a>) was created.</p>
  </li>
  <li>
    <p>vault.XSD<br />
The vault  XSD is used to validate metadata before it is allowed to be entered in the vault area.<br />
This XSD is in fact a translation of the corresponding JSON schema.<br />
To be able to do so, an application (<a href="https://github.com/UtrechtUniversity/irods-ruleset-research/blob/development/tools/json-to-xsd.py">json-to-xsd</a>) was created.</p>
  </li>
  <li>yoda-metadata.xml<br />
Holds, in XML format, the metadata as entered by the user.<br />
This, either after a save action of the user from within the form, or when edited directly when using a webDAV client.<br />
The XML data should comply to the corresponding XSD before the metadata can be accepted into the vault.</li>
</ul>

<h3 id="complex-data-structures">Complex Data structures</h3>

<h4 id="subproperty-structure">Subproperty structure</h4>
<p>Subproperties designate a structure consisting of</p>
<ol>
  <li>one lead element</li>
  <li>N elements (subproperties) linked to the lead element organised as one group</li>
</ol>

<p>The lead elemenent can be of every type as mentioned earlier.</p>

<h4 id="implicit-mandatoriness">Implicit mandatoriness</h4>
<p>Subproperties cannot exist without the lead information being present.
Saving subproperties that have no lead-data will be deleted when saved.
I.e. the lead information becomes implicitly mandatory when subproperty data exists.</p>

<h4 id="mandatory-subproperty-within-a-subproperty-structure">Mandatory subproperty within a subproperty structure</h4>
<p>A subproperty can be configured as being mandatory.
This rule only applies when lead information is present.</p>

<h4 id="multiplicitycloning-for-subproperty-structure">Multiplicity/cloning for subproperty structure:</h4>
<p>The entire structure can be cloned (if set to multiple within the JSONS).
Subproperties themselves can be cloned if configured in JSONS
Compound fields (see further) can be treated as subproperties and all the above rules will be applicable to these a well (and their own compound properties will be maintained as well)</p>

<h4 id="compound-elements">Compound elements</h4>
<p>A compound element is an element that consists of several, at least one, related elements.
They are considered to belong together and in that sense treated in that manner.</p>

<h4 id="multiplicitycloning-of-compounds">Multiplicity/cloning of compounds</h4>
<p>Entire element can be made cloneable â€“ thus cloning the total structure in its entirety</p>

<p>Each individual constructing element within the compound can be made cloneable as wellâ€“ thus cloning the element within its compound element.</p>

<p><strong>Implicit mandatoriness when compound is partly filled.</strong>
If one element of a compound is filled, all the others have to be filled as well. These are considered mandatory as well.
Partly filling a compound is not accepted as being valid information</p>

<h3 id="compound-field-as-a-subproperty">Compound field as a subproperty</h3>

<p>A compound field can be regarded as being a single element. Therefore, it can also be used as a a subproperty.
This is especially useful when the need exists to save the relation of one leading element and a set of information that belongs together.</p>

<h4 id="mandatoriness">Mandatoriness</h4>
<p>Again, if one of the compound elements fields holds data, the other element(s) become mandatory as well. I.e. data cannot be saved when a compound field is not fully filled out.</p>

<h4 id="multiplicitycloning-entire-compound">Multiplicity/cloning entire compound</h4>
<p>A compound field can be regarded as one element.
Therefore, it can be cloned in its entirety adding one (or more) cloned compounds to the lead element.</p>

<h4 id="multiplicity--cloning-elements-within-a-compound">Multiplicity â€“ cloning element(s) within a compound</h4>
<p>As a compound is constructed with normal elements it is possible to add cloning to each or one specific element within a compound element.</p>

<h3 id="general-validation-rules-for-complex-structures">General validation rules for complex structures</h3>

<p>Subproperties cannot exist without a lead/main property being present.
I.e. A subproperty structure without lead information is regarded as incomplete information.
As a result the corresponding datapackage will not be accepted for the vault.</p>

<ul>
  <li>A subproperty can be configured as being mandatory.*</li>
</ul>

<p>However, this rule is only valid when the corresponding lead element is filled.
In other words, eventhough a mandatory rule exists on a subproperty, the actual subproperty-structure could still be configured as being none-mandatory for the vault.</p>

<ul>
  <li>Completeness of a compound field*</li>
</ul>

<p>Compounds are constructed of separate fields but can be regarded as one element.
If one element of a compound field holds a value the other n fields should hold a value as well.</p>

<ul>
  <li>Completeness of a compound field as a subproperty*
Compound fields within a subproperty structure follow the same rules as on highest level.
I.e. when one element is filled, all elements must be filled.</li>
</ul>

<h2 id="integration-of-react-form-within-yoda">Integration of REACT form within Yoda</h2>
<p>The file</p>

<p>Â Â Â Â <em>Yoda-module</em>/app/index.js</p>

<p>holds all Yoda-application specific javascript code to tweak the REACT form to the needs of the application.<br />
It handles all Yoda specific situations where the REACTform is involved.<br />
It integrates it within the Yoda application.</p>

<p>Code changes do not directly take effect.<br />
In order to effectuate, use:</p>

<p>./node_modules/.bin/webpack -d<br />
in:<br />
/var/www/yoda/yoda-portal/modules/research</p>

<p>Since there is a separate vault module this will hold its own /app/index.js</p>

                                    </section>

                                    <footer class="article-footer"></footer>
                                </article>
                            </div> <!-- /page-content-inner -->
                        </div> <!-- /page-content -->
                    </div> <!--row-offcanvas -->
                </div> <!-- /#content-wrapper -->
            </div>

            <footer id="colophon" class="footer hidden-print">
                <div id="inner-footer" class="container clearfix">
                    <div class="row">
                        <div class="col-sm-6">
                            <img alt="Logo Utrecht University" src="/yoda/assets/images/uu-logo-footer.svg">
                        </div>
                        <div class="col-sm-6">
                            <p class="source-org copyright pull-right">Â© 2020 Utrecht University, <a href="https://www.uu.nl/en/organisation/contact/disclaimer">disclaimer</a></p>
                        </div>
                    </div>
                </div>
            </footer>

            <p id="back-top" style="display: none;">
                <a href="#top"><i class="fa fa-angle-up"></i></a>
            </p>

            <script type="text/javascript" src='/yoda/assets/js/jquery.js'></script>
<script type="text/javascript" src='/yoda/assets/js/bootstrap.min.js'></script>
        </div>
    </body>
</html>
