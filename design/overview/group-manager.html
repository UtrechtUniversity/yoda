

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/yoda/assets/css/just-the-docs-default.css">

  

  
    <script src="/yoda/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/yoda/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  
    <link rel="icon" href="/yoda/favicon.ico" type="image/x-icon">
  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Group manager | Yoda</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Group manager" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" />
<meta property="og:description" content="On this website you can find release notes and technical documentation on software design and administration tasks of Yoda" />
<meta property="og:site_name" content="Yoda" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Group manager" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"On this website you can find release notes and technical documentation on software design and administration tasks of Yoda","headline":"Group manager","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/yoda/yoda.svg"}},"url":"/yoda/design/overview/group-manager.html"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  <div class="side-bar">
  <div class="site-header">
    <a href="/yoda/" class="site-title lh-tight">
  <div class="site-logo"></div>

</a>
    <a href="#" id="menu-button" class="site-button">
      <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
    </a>
  </div>
  <nav aria-label="Main" id="site-nav" class="site-nav">
    
    
      <ul class="nav-list"><li class="nav-list-item"><a href="/yoda/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Release Notes category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/yoda/release-notes/" class="nav-list-link">Release Notes</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/release-notes/release-1.9.html" class="nav-list-link">v1.9</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.8.html" class="nav-list-link">v1.8</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.7.html" class="nav-list-link">v1.7</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.6.html" class="nav-list-link">v1.6</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.5.html" class="nav-list-link">v1.5</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.4.html" class="nav-list-link">v1.4</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.3.html" class="nav-list-link">v1.3</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.2.html" class="nav-list-link">v1.2</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.1.html" class="nav-list-link">v1.1</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-1.0.html" class="nav-list-link">v1.0</a></li><li class="nav-list-item "><a href="/yoda/release-notes/release-0.9.7.html" class="nav-list-link">v0.9.7</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in Software Design category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/yoda/design/" class="nav-list-link">Software Design</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/design/api/" class="nav-list-link">API</a></li><li class="nav-list-item  active"><a href="#" class="nav-list-expander" aria-label="toggle links in System Overview category">
                  <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
                </a><a href="/yoda/design/overview/" class="nav-list-link">System Overview</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/yoda/design/overview/research-space.html" class="nav-list-link">Research space</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/vault-space.html" class="nav-list-link">Vault space</a>
                  </li><li class="nav-list-item  active">
                    <a href="/yoda/design/overview/group-manager.html" class="nav-list-link active">Group manager</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/statistics.html" class="nav-list-link">Statistics module</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/deposit-space.html" class="nav-list-link">Deposit space</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/statistics_1.8.html" class="nav-list-link">Statistics module (v1.8 or earlier)</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/theme-packages.html" class="nav-list-link">Theme packaging</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/intake.html" class="nav-list-link">Intake module</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/data-requests.html" class="nav-list-link">Data requests module</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/authentication.html" class="nav-list-link">Authentication</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/data_package_reference.html" class="nav-list-link">Data Package Reference</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/deployment.html" class="nav-list-link">Deployment</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/external-user-service.html" class="nav-list-link">External User Service</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/overview/yoda-moai.html" class="nav-list-link">Yoda MOAI service</a>
                  </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Metadata category">
                  <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
                </a><a href="/yoda/design/metadata/" class="nav-list-link">Metadata</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/adr-schema-identifiers.html" class="nav-list-link">Architectural decision record schema identifier format</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/metadata-form-json.html" class="nav-list-link">Metadata JSON schema</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/metadata-form.html" class="nav-list-link">Metadata form implementation</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/schema-configuration.html" class="nav-list-link">Metadata schemas</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/metadata/metadata-vault.html" class="nav-list-link">Metadata vault</a>
                  </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Processes category">
                  <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
                </a><a href="/yoda/design/processes/" class="nav-list-link">Processes</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="/yoda/design/processes/async-system-execution.html" class="nav-list-link">Asynchronous and Privileged Execution</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/asynchronous-processes.html" class="nav-list-link">Asynchronous processes</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/locking-mechanism.html" class="nav-list-link">Folder Locking mechanism</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/publication-process.html" class="nav-list-link">Publication Process</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/revisions.html" class="nav-list-link">Revision management</a>
                  </li><li class="nav-list-item ">
                    <a href="/yoda/design/processes/vault-process.html" class="nav-list-link">To vault process in research module</a>
                  </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Administration Tasks category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/yoda/administration/" class="nav-list-link">Administration Tasks</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/administration/configuring-yoda.html" class="nav-list-link">Configuring Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/deploying-yoda.html" class="nav-list-link">Deploying Yoda</a></li><li class="nav-list-item "><a href="/yoda/administration/hotfixing-ruleset.html" class="nav-list-link">Hotfixing ruleset</a></li><li class="nav-list-item "><a href="/yoda/administration/local-ruleset-patch.html" class="nav-list-link">Local ruleset patches</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-licenses.html" class="nav-list-link">Installing Licenses</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-terms.html" class="nav-list-link">Installing Terms & Conditions</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-preservable-file-formats.html" class="nav-list-link">Installing lists of preservable file formats</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-metadata-schemas.html" class="nav-list-link">Installing metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/local-postfix-mta.html" class="nav-list-link">Local Postfix MTA</a></li><li class="nav-list-item "><a href="/yoda/administration/installing-datarequest-module.html" class="nav-list-link">Installing datarequest module</a></li><li class="nav-list-item "><a href="/yoda/administration/upgrading-metadata-schemas.html" class="nav-list-link">Upgrading metadata schemas</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-publication.html" class="nav-list-link">Troubleshooting publication</a></li><li class="nav-list-item "><a href="/yoda/administration/using-python-irodsclient.html" class="nav-list-link">Using the python-irodsclient API</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-email.html" class="nav-list-link">Troubleshooting email</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-openidc.html" class="nav-list-link">Configuring OIDC</a></li><li class="nav-list-item "><a href="/yoda/administration/troubleshooting-replication-revisions.html" class="nav-list-link">Troubleshooting replication and revision creation</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-cleanup-temporary-files.html" class="nav-list-link">Configuring cleanup functionality temporary files</a></li><li class="nav-list-item "><a href="/yoda/administration/configuring-data-access-passwords.html" class="nav-list-link">Configuring Data Access Passwords</a></li><li class="nav-list-item "><a href="/yoda/administration/restore-collection.html" class="nav-list-link">Restore collection</a></li><li class="nav-list-item "><a href="/yoda/administration/setting-job-flags.html" class="nav-list-link">Setting job flags</a></li><li class="nav-list-item "><a href="/yoda/administration/supported-distributions.html" class="nav-list-link">Supported distributions</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Development category">
            <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg>
          </a><a href="/yoda/development/" class="nav-list-link">Development</a><ul class="nav-list"><li class="nav-list-item "><a href="/yoda/development/setting-up-development-environment.html" class="nav-list-link">Setting up development environment</a></li><li class="nav-list-item "><a href="/yoda/development/running-api-ui-tests.html" class="nav-list-link">Running API and UI tests</a></li><li class="nav-list-item "><a href="/yoda/development/yodadrive-development-environment.html" class="nav-list-link">Setting up YodaDrive development environment</a></li><li class="nav-list-item "><a href="/yoda/development/mock_tape_archive.html" class="nav-list-link">Mock tape archive</a></li><li class="nav-list-item "><a href="/yoda/development/development-tips.html" class="nav-list-link">Development tips</a></li><li class="nav-list-item "><a href="/yoda/development/wall-of-fame.html" class="nav-list-link">Wall of Fame</a></li></ul></li><li class="nav-list-item"><a href="/yoda/development/docker-setup.html" class="nav-list-link">Running Yoda using Docker Compose</a></li></ul>

    
  </nav>

  
  
    <footer class="site-footer">&copy; 2017-2023 <a href="https://www.uu.nl/" title="Utrecht University website">Utrecht University</a></footer>

  
</div>

  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Yoda" aria-label="Search Yoda" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/UtrechtUniversity/yoda" class="site-button"
          
        >
          Yoda on GitHub
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div id="main-content-wrap" class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
  
    <li class="breadcrumb-nav-list-item"><a href="/yoda/design/">Software Design</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/yoda/design/overview/">System Overview</a></li>
  <li class="breadcrumb-nav-list-item"><span>Group manager</span></li>
  </ol>
</nav>
      <div id="main-content" class="main-content" role="main">
        
          <h1 id="group-manager">
  
  
    <a href="#group-manager" class="anchor-heading" aria-labelledby="group-manager"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Group manager
  
  
</h1>
    
<p>The Yoda group-manager is a central tool for all Yoda implementations. The group-manager is used to control access permissions of users based on group membership and the role inside a group. As this usecase is not fully anticipated in the iRODS ACL (Access Control List) system, the group-manager makes use of shadow groups and metadata to accomplish its goals. To understand the choices made in the group-manager you need to understand the limitations of iRODS.</p>

<p>The main goal of the group-manager is to enable the distribution of access rights to data within Yoda with minimal aid of the Yoda administrators. All data within Yoda belongs to a group within a community and access is granted by group membership and roles.</p>
<h2 id="yoda-roles">
  
  
    <a href="#yoda-roles" class="anchor-heading" aria-labelledby="yoda-roles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Yoda roles
  
  
</h2>
    
<p><strong><em>normal</em></strong> Has read and write access to the data of the group it belongs to. Most researchers will be assigned this role.</p>

<p><strong><em>reader</em></strong> Has read access to the data. This role could be assigned to users with interest in the data like master students.</p>

<p><strong><em>groupmanager</em></strong> Can add users to a group and assign them roles. Every group should have at least one groupmanager. This role is typically assigned to a principal investigator.</p>

<p><strong><em>datamanager</em></strong> Has read access to data belonging to his/her community and the ability to manage archival process and metadata quality.</p>
<h2 id="yoda-workspaces">
  
  
    <a href="#yoda-workspaces" class="anchor-heading" aria-labelledby="yoda-workspaces"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Yoda workspaces
  
  
</h2>
    
<p>Within a Yoda community multiple workspaces can be created of different types. They are prefixed to indicate this type. Every workspace is located in the <code class="language-plaintext highlighter-rouge">/{rodsZone}/home</code> collection. Davrods and the research browser have this location as start location.</p>

<p><strong><em>research</em></strong> Collaboration workspace for a research group. No restrictions on the organization of data in folders. Metadata can be added to a folder. When all required metadata has been added a folder can be archived.</p>

<p><strong><em>intake</em></strong>A strict folder structure and filename structure is required to extract metadata and archive data in an intake workspace.</p>

<p><strong><em>grp</em></strong> Legacy workspaces are prefixed with grp-. They were created before the development of research workspaces. The current group-manager will prohibit the creation of new grp groups, but supports managing existing ones.</p>
<h2 id="category-and-subcategories">
  
  
    <a href="#category-and-subcategories" class="anchor-heading" aria-labelledby="category-and-subcategories"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Category and subcategories
  
  
</h2>
    
<p>To allow different communities to share the same Yoda implementation the concept of categories and subcategories were introduced. Every group has a category and subcategory. Within the group-manager groups are grouped into a tree of categories and subcategories.</p>
<h2 id="the-irods-permission-system">
  
  
    <a href="#the-irods-permission-system" class="anchor-heading" aria-labelledby="the-irods-permission-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The iRODS permission system
  
  
</h2>
    
<ol>
  <li>iRODS has four user types:
    <ul>
      <li>rodsuser, a normal user</li>
      <li>rodsadmin, a superuser which can invoke commands in admin mode.</li>
      <li>groupadmin, a user capable of adding other users to groups it belongs to. Not used by Yoda</li>
      <li>rodsgroup, a group of users. Permissions granted to a rodsgroup apply to it’s members.</li>
    </ul>
  </li>
  <li>A Group is also a user. In the iRODS datamodel they share a table. Groups have a separate table to list members.</li>
  <li>A group can not include another group. The hierarchy is flat. Groups have users as members, users can join multiple groups.</li>
  <li>Permissions on Collections and DataObjects are either ‘own’, ‘write’ or ‘read’ set per user (a group is a user in this context). own has write, write implies read.</li>
  <li>Group permissions set on collections only apply on subcollections if “inherit” is set.</li>
  <li>iRODS allows federation of users between zones. To distinguish between local users and users from other zones, every query involving users should include the zone name.  Users from different zones can be represented by appending a # and the zonename to the username. Example: myuser becomes myuser#myzone</li>
</ol>
<h2 id="the-sudo-microservices">
  
  
    <a href="#the-sudo-microservices" class="anchor-heading" aria-labelledby="the-sudo-microservices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The sudo microservices
  
  
</h2>
    
<p>To enable ordinary rodsusers to create groups and manage members in groups, without promoting them to rodsadmin, the sudo microservices have been developed. They give temporary admin privileges when an action meets all criteria set in policies. Technically this means that a sudo microservice will set the AUTH flags in the iRODS rei structure to run an action as admin. Care is taken to prevent the use of these services outside of the proper context.</p>
<h2 id="how-are-the-roles-in-yoda-implemented-on-top-of-the-irods-permission-system">
  
  
    <a href="#how-are-the-roles-in-yoda-implemented-on-top-of-the-irods-permission-system" class="anchor-heading" aria-labelledby="how-are-the-roles-in-yoda-implemented-on-top-of-the-irods-permission-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How are the roles in Yoda implemented on top of the iRODS permission system?
  
  
</h2>
    
<p><em>Normal</em> users are added to a group with the same name as its workspace. Example: normal users of <em>research-breakthrough</em> are added to the rodsgroup <em>research-breakthrough</em>. During group creation by the group-manager this group will get permission ‘own’ on the <code class="language-plaintext highlighter-rouge">/{rodsZone}/home/research-breakthrough</code> workspace and inheritance is enabled.</p>

<p>A <em>reader</em> cannot be added to the main group, because that will grant them ‘own’ permissions. Instead a shadow group is created prefixed with ‘read-‘. This group gets read permissions on the ‘research-‘ or ‘intake-‘ group of the same basename. Inheritance is enabled</p>

<p>A group <em>manager</em> has all the same characteristics as a normal user but in addition metadata is set on the group to list managers. The attribute name is ‘manager’ and the attribute value is the username (including zone). There are two special groups under the System category to grant managers extra privileges. These are:</p>
<ul>
  <li>
    <p><em>priv-group-add</em> –
Membership of this group is checked to determine if a user can create groups. The user also needs to be manager in one of the groups belonging to the same category.</p>
  </li>
  <li>
    <p><em>priv-category-add</em> –
Members of this group can create new categories. This is done when a new group is created. Because categories are implemented as metadata on groups, removing all groups from a category removes that category.</p>
  </li>
</ul>

<p>A <em>datamanager</em> is not a member of a group belonging to a workspace. Instead a special ‘datamanager-‘ group needs to be created per category. This group has to have the same name as that category. This group is given read access to every workspace in this category. This allows the datamanager to check the quality of data and metadata before archiving the work.</p>
<h2 id="irods-ruleset">
  
  
    <a href="#irods-ruleset" class="anchor-heading" aria-labelledby="irods-ruleset"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> iRODS ruleset
  
  
</h2>
    
<p>The following files in the yoda-ruleset support the groupmanager.</p>

<p><strong><em>uuSudoPolicies</em></strong> Set of policies for every sudo action. Every action is denied by default.</p>

<p><strong><em>uuGroupPolicies</em></strong> Policies specific for actions related to the group manager. They have been specified seperately so the rules in uuSudoPolicies can be kept as simple as possible</p>

<p><strong><em>uuGroupPolicyChecks</em></strong> Can be used by the portal and by rules. Queries related to policies</p>

<p><strong><em>uuGroup</em></strong> Can be used by the portal and by policies. It contains the queries used directly by th Group Manager. Policies should not be used directly by the group manager.</p>

<p>The files represent layers when calling functions.</p>

<p>uuSudoPolicies -&gt; uuGroupPolicies -&gt; uuGroupPolicyChecks -&gt; uuGroup</p>

<p>uuGroup (Group manager portal functions) -&gt; uuGroupPolicyChecks</p>
<h2 id="users-and-groups">
  
  
    <a href="#users-and-groups" class="anchor-heading" aria-labelledby="users-and-groups"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Users and groups
  
  
</h2>
    
<p>Users and groups are in same namespace, so checks are in place to prevent creating a group with the same name as a user.</p>
<h2 id="vault">
  
  
    <a href="#vault" class="anchor-heading" aria-labelledby="vault"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Vault
  
  
</h2>
    
<p>The vault group has only rods as member. the base group should get read-only access. Removal of a vault group through the group-manager is impossible.</p>

        

        

        

  <hr>
  <footer>
    

    <p class="text-small text-grey-dk-100 mb-0">Licensed under <a href="https://github.com/UtrechtUniversity/yoda/blob/development/LICENSE">GPLv3</a>.</p>

    
      <div class="d-flex mt-2">
        
        
          <p class="text-small text-grey-dk-000 mb-0">
            <a href="https://github.com/UtrechtUniversity/yoda/tree/development/docs/design/overview/group-manager.md" id="edit-this-page">Edit this page on GitHub.</a>
          </p>
        
      </div>
    
  </footer>



      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

